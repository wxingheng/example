(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{283:function(e,a,t){e.exports={content:"content--F_uhl",contentLeft:"contentLeft--3byJe",logo:"logo--3SIGp",title:"title--3nYSn",amount:"amount--3IW_m",atitle:"atitle--115go",detail:"detail--Oikqr",people:"people--r5M8Y",line:"line--22M4z",item:"item--3xaWI",level:"level--tFE5T",num:"num--EicA9",event:"event--2xn7J",etitle:"etitle--1uUn2",des:"des--1duce",items:"items--3l4gt",contentRight:"contentRight--vucwi",weekly:"weekly--3pinf",wTitle:"wTitle--3tuS8",wNum:"wNum--2Cxke",group:"group--3h7ui",text:"text--18h1D",charts:"charts--2BWx3",chart:"chart--3yLX8"}},631:function(e,a,t){"use strict";t.r(a);var l=t(276),n=t.n(l),s=t(277),r=t.n(s),i=t(278),o=t.n(i),c=t(280),m=t.n(c),d=t(188),v=t.n(d),u=t(281),p=t.n(u),g=t(32),h=t.n(g),f=t(1),y=t.n(f),E=t(283),b=t.n(E),N=(t(33),t(284)),w=t.n(N),k=(t(590),t(591),t(592),t(593)),S=t.n(k),D=t(609),x=t.n(D).a.create({baseURL:"",timeout:5e3,headers:{token:"02c72f9b-d249-41ad-bc1e-e6e64bdbe574"}}),z=window.scale*(document.body.clientWidth/1920),T=function(e){function a(){var e,t;n()(this,a);for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];return t=o()(this,(e=m()(a)).call.apply(e,[this].concat(s))),h()(v()(t),"state",{overviewData:[[[0],[0,0,0,0,0],[0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0],[0,0,0,0,0,0,0],[0,0],[0,0,0,0]],[[0],[0,0,0],[0,0,0,0,0,0,0],[0,0,0]],[[0],[0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]],ageData:[{value:0,name:"18-25"},{value:0,name:"25-35"},{value:0,name:"35-45"},{value:0,name:"45-55"},{value:0,name:"55以上"}],registerData:[],collectData:[]}),h()(v()(t),"search",function(){x.get("/sup/donator/analysis?startDate=2018-05-20&endDate=2019-05-27&group=area").then(function(e){console.log("地区分析",e)}),x.get("/sup/donator/analysis?startDate=2018-05-20&endDate=2019-05-27&group=age").then(function(e){if(console.log("供浆员年龄分析",e),0===e.data.code&&Object.keys(e.data.data).length){var a=[];for(var l in e.data.data)a.push({name:l,value:e.data.data[l]});t.setState({ageData:a})}}),x.get("/sup/index/overview?startDate=2018-05-20&endDate=2019-05-27").then(function(e){console.log("一周运行情况",e),0===e.data.code&&(t.addZore(e.data.collectNumber,0,t.state.overviewData),t.addZore(e.data.collectionPlasma,1,t.state.overviewData),t.addZore(e.data.collectorIncr,2,t.state.overviewData),t.addZore(e.data.collectorBan,3,t.state.overviewData))}),x.get("/sup/index/trend?startDate=2018-05-20&endDate=2019-05-27").then(function(e){if(console.log("月采浆趋势分析",e),0===e.data.code){var a=[],l=[];e.data.registerTrend.length&&e.data.registerTrend.forEach(function(e){a.push({name:e.registDate.slice(5),value:e.amount})}),e.data.collectionTrend.length&&e.data.collectionTrend.forEach(function(e){l.push({name:e.collectDate.slice(5),value:e.amount})}),t.setState({registerData:a,collectData:l})}})}),h()(v()(t),"componentDidMount",function(){t.search()}),t}return p()(a,e),r()(a,[{key:"addZore",value:function(e,a,t){var l=t,n=e+"";n=1===n.length?"000"+n:2===n.length?"00"+n:3===n.length?"0"+n:4===n.length?n:"9999";for(var s=0;s<n.length;s++){l[a][s]=[];for(var r=0;r<=n[s];r++)l[a][s].push(r)}this.setState({data:l})}},{key:"getMap",value:function(){var e={"北海市":[109.374521,21.657814],"南宁市":[108.597233556,23.0064929356],"崇左市":[107.357322038,22.4154552965],"来宾市":[109.231816505,23.7411659265],"柳州市":[109.42240181,24.5290533525],"桂林市":[110.260920147,25.262901246],"梧州市":[111.027872,23.479627],"河池市":[108.069947709,24.6995207829],"玉林市":[110.151676316,22.6439736084],"白色市":[106.631821404,23.9015123679],"贵港市":[109.613707557,23.1033731644],"贺州市":[111.552594179,24.4110535471],"钦州市":[108.927237,22.297033],"防城港市":[108.145352,21.827554]};return{tooltip:{trigger:"item",formatter:function(e){return void 0===e.value[2]?e.name+" : "+e.value:e.name+" : "+e.value[2]}},geo:{show:!0,map:"广西",left:"5%",right:"5%",top:"5%",bottom:"-5%",roam:!1,itemStyle:{normal:{areaColor:"transparent",borderColor:"#494c5c",borderWidth:1},emphasis:{areaColor:"#2B91B7"}}},series:[{name:"credit_pm2.5",type:"scatter",symbol:"circle",coordinateSystem:"geo",data:function(a){for(var t=[],l=0;l<a.length;l++){var n=e[a[l].name];n&&t.push({name:a[l].name,value:n.concat(a[l].value)})}return t}([{name:"北海市",value:199},{name:"南宁市",value:39},{name:"崇左市",value:152},{name:"来宾市",value:299},{name:"柳州市",value:89},{name:"桂林市",value:52},{name:"梧州市",value:9},{name:"河池市",value:352},{name:"玉林市",value:99},{name:"白色市",value:39},{name:"贵港市",value:480},{name:"贺州市",value:450},{name:"钦州市",value:40},{name:"防城港市",value:60}]),symbolSize:.01,label:{normal:{formatter:"{b}",color:"#adadad",fontSize:14*z,position:"bottom",show:!0},emphasis:{show:!0}},itemStyle:{normal:{color:"#05C3F9",label:{show:!0}}}},{name:"credit_pm",type:"scatter",symbol:"path://M3.36,11.368h13.278c1.026,0,2.84,1.549,2.84,3.463l-0.004,11.432c0,1.066-0.839,1.933-1.871,1.933\n            s-1.87-0.866-1.87-1.933v-7.976h-0.416l0.006,23.554c0,1.19-1.427,2.158-2.581,2.158c-1.151,0-2.492-0.924-2.492-2.113V27.777\n            l-0.574-0.029v14.104c0,1.191-1.354,2.144-2.506,2.144c-1.154,0-2.581-0.967-2.581-2.157l0.06-23.551H4.221v7.976\n            c0.008,1.058-0.788,1.925-1.779,1.933c-0.013,0-0.025,0-0.038,0c-1.032,0-1.87-0.866-1.87-1.933L0.521,14.832\n            C0.521,12.853,2.337,11.368,3.36,11.368z M10.232,10.379c-2.809,0-5.086-2.323-5.086-5.189C5.146,2.324,7.423,0,10.232,0\n            c2.809,0,5.085,2.324,5.085,5.19C15.317,8.057,13.041,10.379,10.232,10.379z",coordinateSystem:"geo",data:[{name:"测试",value:[110.260920147,25.062901246,4500],key:4500},{name:"测试111",value:[109.260920147,25.062901246,3e3],key:1500}],symbolSize:[19*z,44*z],label:{normal:{formatter:function(e){return e.data.key},position:"top",show:!0},emphasis:{show:!0}},itemStyle:{normal:{label:{show:!0,fontSize:15*z},color:function(e){if(e.data.key<=1e3)return"rgb(254,251,238)";if(e.data.key>=1e4)return"rgb(246,96,3)";var a=254-Math.floor(8*e.data.key/9e3),t=251-Math.floor(155*e.data.key/9e3),l=238-Math.floor(235*e.data.key/9e3);return"rgb(".concat(a,",").concat(t,",").concat(l,")")}}}},{name:"credit_pm",type:"scatter",symbol:"circle",coordinateSystem:"geo",symbolOffset:[0,28*z],data:[{name:"测试",value:[110.260920147,25.062901246,4500],key:4500},{name:"测试111",value:[109.260920147,25.062901246,3e3],key:1500}],symbolSize:5*z,label:{normal:{formatter:"{b}",position:"bottom",show:!0},emphasis:{show:!0}},itemStyle:{normal:{label:{show:!0,fontSize:15*z},color:function(e){if(e.data.key<=1e3)return"rgb(254,251,238)";if(e.data.key>=1e4)return"rgb(246,96,3)";var a=254-Math.floor(8*e.data.key/9e3),t=251-Math.floor(155*e.data.key/9e3),l=238-Math.floor(235*e.data.key/9e3);return"rgb(".concat(a,",").concat(t,",").concat(l,")")}}}}]}}},{key:"getLine",value:function(){!function(){for(var e=[],a=1;a<31;a++)e.push(a)}();return{tooltip:{trigger:"axis",axisPointer:{type:"shadow",textStyle:{color:"#fff"}}},grid:{borderWidth:0,left:"10%",right:"10%",top:"20%",bottom:"25%",textStyle:{color:"#fff"}},legend:{x:"center",y:"bottom",itemGap:10*z,itemWidth:25*z,itemHeight:14*z,textStyle:{color:"#fff",fontSize:12*z},data:["月供浆员登记数","总采浆量统计"]},calculable:!0,xAxis:[{type:"category",name:"日",nameTextStyle:{fontSize:12*z},axisLine:{lineStyle:{color:"#90979c"}},splitLine:{show:!1},axisTick:{show:!1},splitArea:{show:!1},axisLabel:{color:"#fff",rotate:-45,fontSize:9*z},data:this.state.registerData.map(function(e){return e.name})}],yAxis:[{type:"value",name:"人次",splitLine:{show:!1},nameTextStyle:{fontSize:12*z},axisLine:{lineStyle:{color:"#90979c"}},axisTick:{show:!1},axisLabel:{interval:0,fontSize:9*z},splitArea:{show:!1}}],series:[{name:"月供浆员登记数",type:"line",stack:"总量",symbolSize:5*z,symbol:"circle",smooth:!0,sampling:"average",areaStyle:{color:"#10bafa",origin:"start",opacity:.6},itemStyle:{normal:{color:"#10bafa",barBorderRadius:0,label:{show:!1,position:"top",formatter:function(e){return e.value>0?e.value:""}}}},data:this.state.registerData.map(function(e){return e.value})},{name:"总采浆量统计",type:"bar",stack:"总量",itemStyle:{normal:{color:"#fbb148",label:{show:!1,textStyle:{color:"#fff"},position:"insideTop",formatter:function(e){return e.value>0?e.value:""}}}},data:this.state.collectData.map(function(e){return e.value})}],animationDelay:function(e){return 1e3*e},animationEasing:"elasticOut",animationDelayUpdate:function(e){return 100*e}}}},{key:"getPie",value:function(){return{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{x:"center",y:"bottom",data:this.state.ageData.map(function(e){return e.name}),align:"right",itemGap:10*z,itemWidth:25*z,itemHeight:14*z,textStyle:{color:"#fff",fontSize:12*z}},color:["#2ec7c9","#2687f8","#ff6b74","#07b465","#fbb148"],calculable:!0,series:[{name:"供浆员年龄分析",type:"pie",radius:["10%","60%"],center:["50%","50%"],roseType:"radius",label:{normal:{show:!0,fontSize:12*z},emphasis:{show:!0}},labelLine:{length:10*z,length2:10*z},data:this.state.ageData}]}}},{key:"getProvice",value:function(){return{series:[{name:"数据",type:"map",mapType:"china",left:"-75%",right:"-97.5%",top:"-7.37%",bottom:"-14%",roam:!1,center:[109.196298,23.739232],label:{normal:{show:!1,color:"#fff"},emphasis:{show:!1}},itemStyle:{normal:{areaColor:"rgba(124,132,159,0.03)",borderColor:"#636772",borderWidth:z>1?3:2},emphasis:{areaColor:"rgba(124,132,159,0.03)"}}}],calculable:!0}}},{key:"render",value:function(){var e=this;return y.a.createElement("div",{className:b.a.content},y.a.createElement("div",{className:b.a.contentLeft},y.a.createElement("div",{className:b.a.logo},y.a.createElement("img",{src:"./assets/images/logo.png",width:"100%",style:{verticalAlign:"top"}})),y.a.createElement("div",{className:b.a.title},"全区联网机构数量:",y.a.createElement("span",{style:{color:"#10bafa"}}," 31 "),"家, 其中",y.a.createElement("span",{style:{color:"#08c06d"}}," 28 "),"家机构联网状态良好"),y.a.createElement("div",{className:b.a.amount},y.a.createElement("div",{className:b.a.atitle},"采浆量(ml)"),y.a.createElement("div",{className:b.a.detail},y.a.createElement("div",{className:b.a.people},y.a.createElement("img",{src:"./assets/images/people.png",width:"100%",style:{verticalAlign:"top"}})),y.a.createElement("div",{className:b.a.line},y.a.createElement("div",{className:b.a.item}),y.a.createElement("div",{className:b.a.item}),y.a.createElement("div",{className:b.a.item})),y.a.createElement("div",{className:b.a.level},y.a.createElement("div",{className:b.a.num},">10000"),y.a.createElement("div",{className:b.a.num},"5000-10000"),y.a.createElement("div",{className:b.a.num},"1000-5000"),y.a.createElement("div",{className:b.a.num},"<1000")))),y.a.createElement("div",{className:b.a.event},y.a.createElement("div",{className:b.a.etitle},y.a.createElement("img",{src:"./assets/images/event.png",height:"100%"}),y.a.createElement("span",{className:b.a.des},"实时事件")),y.a.createElement("div",{className:b.a.items},y.a.createElement(S.a,{accessibility:!1,arrows:!1,dots:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,vertical:!0,verticalSwiping:!0,autoplaySpeed:3e3,autoplay:!0},y.a.createElement("div",{className:b.a.item},"05/16 08:15 宜昌双林单采血浆站,新登记2人01"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 宜昌双林单采血浆站,新登记2人02"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 宜昌双林单采血浆站,新登记2人03"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 宜昌双林单采血浆站,新登记2人04"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 广西壮族自治区大新县单采血浆站,新登记8人05"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 广西壮族自治区大新县单采血浆站,新登记8人"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 广西壮族自治区大新县单采血浆站,新登记8人"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 广西壮族自治区大新县单采血浆站,新登记8人"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 宜昌双林单采血浆站,新登记2人"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 宜昌双林单采血浆站,新登记2人"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 广西壮族自治区大新县单采血浆站,新登记8人"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 广西壮族自治区大新县单采血浆站,新登记8人"),y.a.createElement("div",{className:b.a.item},"05/16 08:15 宜昌双林单采血浆站,新登记2人")))),y.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"2"}},y.a.createElement(w.a,{option:this.getMap(),notMerge:!0,lazyUpdate:!0,style:{width:"100%",height:"100vh"}})),y.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"3"}},y.a.createElement(w.a,{option:this.getProvice(),notMerge:!0,lazyUpdate:!0,style:{width:"100%",height:"100vh"}}))),y.a.createElement("div",{className:b.a.contentRight},y.a.createElement("div",{className:b.a.weekly},y.a.createElement("div",{className:b.a.wTitle},y.a.createElement("img",{src:"./assets/images/weekly.png",height:"100%",style:{verticalAlign:"top"}}),y.a.createElement("span",{className:b.a.des},"一周运行情况"),y.a.createElement("span",{style:{color:"#727272"}}," Weekly performance")),y.a.createElement("div",{className:b.a.wNum},y.a.createElement("div",{className:b.a.group},y.a.createElement("div",{className:b.a.title},y.a.createElement("img",{src:"./assets/images/weekly01.png",height:"100%"}),y.a.createElement("span",{className:b.a.text,style:{color:"#10bafa"}},"采浆人次")),y.a.createElement("div",{className:b.a.items},this.state.overviewData[0].map(function(a,t){return y.a.createElement("div",{key:t,className:b.a.item},a.map(function(a,l){return y.a.createElement("div",{key:l,className:b.a.num+" stage"+l},y.a.createElement("span",{className:l===e.state.overviewData[0][t].length-1?"top":"top above"})," ",y.a.createElement("span",{className:"bottom"}))}))}))),y.a.createElement("div",{className:b.a.group},y.a.createElement("div",{className:b.a.title},y.a.createElement("img",{src:"./assets/images/weekly02.png",height:"100%"}),y.a.createElement("span",{className:b.a.text,style:{color:"#ffa345"}},"采浆量(L)")),y.a.createElement("div",{className:b.a.items},this.state.overviewData[1].map(function(a,t){return y.a.createElement("div",{key:t,className:b.a.item},a.map(function(a,l){return y.a.createElement("div",{key:l,className:b.a.num+" stage"+l},y.a.createElement("span",{className:l===e.state.overviewData[1][t].length-1?"top":"top above"})," ",y.a.createElement("span",{className:"bottom"}))}))}))),y.a.createElement("div",{className:b.a.group},y.a.createElement("div",{className:b.a.title},y.a.createElement("img",{src:"./assets/images/weekly03.png",height:"100%"}),y.a.createElement("span",{className:b.a.text,style:{color:"#06eb82"}},"新增供浆员")),y.a.createElement("div",{className:b.a.items},this.state.overviewData[2].map(function(a,t){return y.a.createElement("div",{key:t,className:b.a.item},a.map(function(a,l){return y.a.createElement("div",{key:l,className:b.a.num+" stage"+l},y.a.createElement("span",{className:l===e.state.overviewData[2][t].length-1?"top":"top above"})," ",y.a.createElement("span",{className:"bottom"}))}))}))),y.a.createElement("div",{className:b.a.group},y.a.createElement("div",{className:b.a.title},y.a.createElement("img",{src:"./assets/images/weekly04.png",height:"100%"}),y.a.createElement("span",{className:b.a.text,style:{color:"#ff4f5a"}},"永久屏蔽供浆员")),y.a.createElement("div",{className:b.a.items},this.state.overviewData[3].map(function(a,t){return y.a.createElement("div",{key:t,className:b.a.item},a.map(function(a,l){return y.a.createElement("div",{key:l,className:b.a.num+" stage"+l},y.a.createElement("span",{className:l===e.state.overviewData[3][t].length-1?"top":"top above"})," ",y.a.createElement("span",{className:"bottom"}))}))}))))),y.a.createElement("div",{className:b.a.charts},y.a.createElement("div",{className:b.a.wTitle},y.a.createElement("img",{src:"./assets/images/trend.png",height:"100%",style:{verticalAlign:"top"}}),y.a.createElement("span",{className:b.a.des},"月采浆趋势分析"),y.a.createElement("span",{style:{color:"#727272"}},"Register trend")),y.a.createElement("div",{className:b.a.chart},y.a.createElement(w.a,{option:this.getLine(),notMerge:!0,lazyUpdate:!0,style:{width:"100%",height:"100%"}})),y.a.createElement("div",{className:b.a.wTitle},y.a.createElement("img",{src:"./assets/images/analysis.png",height:"100%",style:{verticalAlign:"top"}}),y.a.createElement("span",{className:b.a.des},"供浆员年龄分析"),y.a.createElement("span",{style:{color:"#727272"}},"Age analysis")),y.a.createElement("div",{className:b.a.chart},y.a.createElement(w.a,{option:this.getPie(),notMerge:!0,lazyUpdate:!0,style:{width:"100%",height:"100%"}})))))}}]),a}(y.a.Component);a.default=T}}]);