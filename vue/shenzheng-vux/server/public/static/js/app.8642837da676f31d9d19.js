webpackJsonp([1],{"+TmT":function(e,t,s){"use strict";function i(e){s("n6lo")}function a(e){s("pO+k")}var r=s("//Fk"),n=s.n(r),u=(String,{props:{renderSrc:{type:String,default:""}},computed:{},methods:{remove:function(){}}}),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"weui-uploader__file"},[s("img",{attrs:{src:e.renderSrc}})])},l=[],c={render:o,staticRenderFns:l},d=c,h=s("VU/8"),p=i,m=h(u,d,!1,p,null,null),b=m.exports,v=s("mtWM"),_=s.n(v),y=s("fO40"),f=s.n(y),g=s("U7mS"),x=s.n(g),T=(Array,Number,Boolean,Boolean,Boolean,String,Boolean,Boolean,String,String,String,String,Object,String,{props:{images:{type:Array,default:function(){return[]}},max:{type:Number,default:1},showHeader:{type:Boolean,default:!0},showTip:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},title:{type:String,default:"图片上传"},handleClick:{type:Boolean,default:!1},autoUpload:{type:Boolean,default:!0},uploadUrl:{type:String,default:""},size:{type:String,default:"normal"},capture:{type:String,default:""},name:{type:String,default:"img"},params:{type:Object,default:null},describe:{type:String,default:""}},components:{UploaderItem:b},methods:{add:function(){this.handleClick&&this.$emit("add-image")},remove:function(){this.handleClick?this.$emit("remove-image"):this.images.shift()},preview:function(e,t){var s=this;console.log("456");var i=e.src,a=f.a.gallery(i,{className:"custom-classname",onDelete:function(){a.hide(),s.images.splice(t,1)}})},change:function(){var e=this;if(!this.handleClick){var t=this.$refs.file.files,s=[];if(t.length+this.images.length>this.max)return void this.$vux.toast.show({type:"warn",position:"middle",text:"你选择的图片已达上限，请删减"});for(var i=t.length,a=!1,r=0;r<t.length;r++)console.log("before ",t[r]),x()(t[r]).then(function(t){console.log("after ",t);var a=t.formData;e.autoUpload?(e.uploadUrl||console.error("uploadUrl不应为空"),e.$vux&&e.$vux.loading&&e.$vux.loading.show("正在上传"),s.push(_.a.post(e.uploadUrl,a)),i--):e.$emit("upload-image",a)}).catch(function(e){}).always(function(){0!==i||a||(a=!0,n.a.all(s).then(function(i){for(var a=0;a<s.length;a++){e.$vux&&e.$vux.loading&&e.$vux.loading.hide();var r={id:i[a].data.toString()};e.images.push(r),e.html5Reader(t[a],r)}e.$refs.file.value=""}).catch(function(){e.$vux&&e.$vux.loading&&(e.$vux.loading.hide(),e.$vux.toast.show({type:"warn",position:"middle",text:"图片上传失败，请重试！"}))}))})}},html5Reader:function(e,t){var s=this,i=new FileReader;i.readAsDataURL(e),i.onload=function(e){s.$set(t,"src",e.target.result)}}},computed:{showCapture:function(){return this.capture||void 0}}}),S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"weui-cell"},[s("div",{staticClass:"weui-cell__bd"},[s("div",{staticClass:"weui-uploader"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showHeader,expression:"showHeader"}],staticClass:"weui-uploader__hd"},[s("p",{staticClass:"weui-uploader__title"},[e._v(" "+e._s(e.title)+" ")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showHeader&&e.showTip,expression:"showHeader && showTip"}],staticClass:"weui-uploader__info"},[e._v("\n          "+e._s(e.images.length)+" / "+e._s(e.max)+"\n        ")])]),e._v(" "),s("div",{staticClass:"weui-uploader__bd",class:{small:"small"===e.size}},[s("ul",{staticClass:"weui-uploader__files"},e._l(e.images,function(t,i){return s("uploader-item",{key:t.id,attrs:{"render-src":t.src},nativeOn:{click:function(s){e.preview(t,i)}}})})),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.readonly&&e.images.length<e.max,expression:"!readonly && images.length < max"}],staticClass:"weui-uploader__input-box",on:{click:e.add}},[e.handleClick?e._e():s("input",{ref:"file",staticClass:"weui-uploader__input",attrs:{multiple:"multiple",type:"file",accept:"image/*",capture:e.showCapture},on:{change:e.change}})])]),e._v(" "),s("div",[s("p",{staticClass:"uploader_msg"},[e._v(" "+e._s(e.describe)+" ")])])])])])},w=[],k={render:S,staticRenderFns:w},C=k,E=s("VU/8"),$=a,N=E(T,C,!1,$,"data-v-27646f3c",null);t.a=N.exports},"/QCA":function(e,t){},"4lfr":function(e,t){},"4pE8":function(e,t){},"7I26":function(e,t){},"7aWB":function(e,t){},"81+y":function(e,t){},"8sLa":function(e,t,s){"use strict";var i=s("//Fk"),a=s.n(i),r=s("mtWM"),n=s.n(r),u=function(e,t){return t},o=n.a.create({baseURL:"https://sbc.stpass.com/synergy-api/"}),l=n.a.create({baseURL:"https://sbc.stpass.com/bao/"}),c=function(e){return new a.a(function(t,s){e.then(function(e){var i=e.data;if(!i&&200!==e.status||!1===i.success)return s(u(0,i.msg));t(i)}).catch(function(e){401===e.response.status&&s(u(0,"need auth"))})})};t.a={getIdentityType:function(){return c(o.get("/service/wechatevidence/getIdentityType"))},getHospitals:function(e){return c(l.get("/service/weixin/getTopFacility?name="+e))},getDisease:function(){return c(l.get("/service/weixin/getDisease?name"))},getBloodSubType:function(){return c(o.get("/service/wechatevidence/getBloodSubType"))},saveData:function(e){return c(o.post("/service/wechatevidence/save",e))},getEmployments:function(e){return c(l.get("/service/weixin/getTopEmployment?name="+e))},getArea:function(){return c(l.get("/service/weixin/getArea"))},getEvidence:function(e){return c(o.get("/service/wechatevidence/getEvidence?id="+e.id+"&name="+e.name))}}},"9zH9":function(e,t){},AuIY:function(e,t){},BL3e:function(e,t){},BMh0:function(e,t){},Bfwr:function(e,t,s){"use strict";function i(e){s("BMh0")}var a=(Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(e){this.$emit("update:show",e)}}}),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:e.transition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:e.text?"":"vux-loading-no-text"},[s("div",{staticClass:"weui-mask_transparent"}),e._v(" "),s("div",{staticClass:"weui-toast",style:{position:e.position}},[s("i",{staticClass:"weui-loading weui-icon_toast"}),e._v(" "),e.text?s("p",{staticClass:"weui-toast__content"},[e._v(e._s(e.text||"加载中")),e._t("default")],2):e._e()])])])},n=[],u={render:r,staticRenderFns:n},o=u,l=s("VU/8"),c=i,d=l(a,o,!1,c,null,null);t.a=d.exports},E4LH:function(e,t,s){"use strict";t.a={isIdentity:function(e){if(isNaN(e.substring(0,e.length-1)))return!1;var t=e.length,s=void 0;if(15===t)s=new RegExp(/^(\d{6})()?(\d{2})(\d{2})(\d{2})(\d{3})$/);else{if(18!==t)return!1;s=new RegExp(/^(\d{6})()?(\d{4})(\d{2})(\d{2})(\d{3})(\d|X|x)$/)}if(!s.exec(e))return!1;var i=e.match(s);if(null!=i){if(15==t)var a=new Date("19"+i[3]+"/"+i[4]+"/"+i[5]),r=a.getYear()==i[3]&&a.getMonth()+1==i[4]&&a.getDate()==i[5];else var a=new Date(i[3]+"/"+i[4]+"/"+i[5]),r=a.getFullYear()==i[3]&&a.getMonth()+1==i[4]&&a.getDate()==i[5];if(!r)return!1}return!0},checkTel:function(e){var t=/^1[3|5|8]\d{9}$/,s=/^0\d{2,3}-?\d{7,8}$/;return t.test(e)||s.test(e)},IdCard:function(e,t){if(1==t){return e.substring(6,10)+"-"+e.substring(10,12)+"-"+e.substring(12,14)}if(2==t)return parseInt(e.substr(16,1))%2==1?"1":"2";if(3==t){var s=new Date,i=s.getMonth()+1,a=s.getDate(),r=s.getFullYear()-e.substring(6,10)-1;return(e.substring(10,12)<i||e.substring(10,12)==i&&e.substring(12,14)<=a)&&r++,r}}}},Fv3j:function(e,t){},GKv3:function(e,t){},Js7q:function(e,t){},Kz3b:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_1_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__=__webpack_require__("E4LH"),__WEBPACK_IMPORTED_MODULE_3__components_uploader_vue__=__webpack_require__("+TmT"),__WEBPACK_IMPORTED_MODULE_4__model_client_model__=__webpack_require__("8sLa");Array.prototype.findIndex=Array.prototype.findIndex||function(evaluator,thisArg){if(!this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof evaluator){if("string"!=typeof evaluator)throw new TypeError;if(!(evaluator=eval(evaluator)))throw new TypeError}var i;if(void 0===thisArg){for(i in this)if(evaluator(this[i],i,this))return i;return-1}for(i in this)if(evaluator.call(thisArg,this[i],i,this))return i;return-1},__webpack_exports__.a={name:"Application",components:{uploader:__WEBPACK_IMPORTED_MODULE_3__components_uploader_vue__.a},data:function(){var e=this;return{msg:"Application",userbase:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},this.$store.state.userbase,{placeType:"LOCAL",count:1,donateTime:"2018-01-01",donateType:"WHOL",images:[],prove1:[],prove2:[],prove3:[],hospital:{},diagnosis:"40",evidenceBloods:[],otherDiseaseName:"",caseType:"",inauguralStatus:"6"===this.$route.params.caseType?{key:"ETC1",value:"在校教师"}:{key:"WORK",value:"本市有工作单位"},employment:{},employmentArea:"",retireEmploymentName:"",familyName:"",familyType:"",familyNumber:"",relation:"",prove4:[],prove5:[]}),hospitals:[],employments:[],areas:[],show:!1,validate:function(t){var s=!0;return"01"!==e.userbase.identityType||__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.isIdentity(t)||(s=!1),{valid:s,msg:"Error"}},familyValidate:function(t){var s=!0;return"01"!==e.userbase.familyType||__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.isIdentity(t)||(s=!1),{valid:s,msg:"Error"}},validatePhone:function(e){return{valid:__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.checkTel(e),msg:"Error"}},fillable:!0,varmax:5,uploadUrl:"https://sbc.stpass.com/synergy-api/service/wechatevidence/upload",disease:[],bloodSubTypes:[]}},computed:{identityTypeList:function(){return this.$store.state.identityTypeList.length<=0&&this.getIdentityType(),this.$store.state.identityTypeList.map(function(e){return e.key=e.id,e.value=e.name,e})},identityTypeView:function(){var e=this;return console.log(this.identityTypeList),this.identityTypeList.length>0?this.identityTypeList.filter(function(t){return t.id==e.userbase.identityType})[0].name:""},disabled:function(){var e=!1;switch(this.userbase.caseType){case"3":case"4":case"8":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.placeType&&this.userbase.donateType&&this.userbase.prove1.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)||(e=!0);break;case"1":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.placeType&&this.userbase.donateType&&this.userbase.prove1.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&("WORK"!==this.userbase.inauguralStatus.key||this.userbase.employment.id)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.employmentArea)&&("RETI"!==this.userbase.inauguralStatus.key||this.userbase.retireEmploymentName)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.prove3.length)&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)||(e=!0);break;case"2":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.familyName&&this.userbase.familyType&&this.userbase.familyNumber&&this.userbase.relation&&this.userbase.prove4.length&&this.userbase.prove5.length&&this.userbase.donateType&&this.userbase.prove1.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)&&("WORK"!==this.userbase.inauguralStatus.key||this.userbase.employment.id)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.employmentArea)&&("RETI"!==this.userbase.inauguralStatus.key||this.userbase.retireEmploymentName)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.prove3.length)||(e=!0);break;case"6":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.placeType&&this.userbase.donateType&&this.userbase.prove1.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&this.userbase.employment.id&&this.userbase.prove3.length&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)||(e=!0);break;case"5":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)&&("WORK"!==this.userbase.inauguralStatus.key||this.userbase.employment.id)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.employmentArea)&&("RETI"!==this.userbase.inauguralStatus.key||this.userbase.retireEmploymentName)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.prove3.length)||(e=!0)}return e}},methods:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_1_vuex__.b)(["getIdentityType","updateUserbase"]),{submit:function(){var e=this,t={};switch(this.userbase.caseType){case"3":case"4":case"8":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,donateNum:parseFloat(this.userbase.count).toFixed(2),donateTime:this.userbase.donateTime+" 00:00:00",donateType:this.userbase.donateType,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:parseFloat(e.volume).toFixed(2)}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()},{type:"1",matterId:this.userbase.prove1.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,placeType:this.userbase.placeType};break;case"1":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,donateNum:this.userbase.count.toString()+".00",donateTime:this.userbase.donateTime+" 00:00:00",donateType:this.userbase.donateType,employment:"WORK"===this.userbase.inauguralStatus.key?this.userbase.employment.id:null,employmentArea:"DOCT"===this.userbase.inauguralStatus.key?null:this.userbase.employmentArea,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:e.volume}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()},{type:"1",matterId:this.userbase.prove1.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,inauguralStatus:this.userbase.inauguralStatus.key,identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,placeType:this.userbase.placeType,retireEmploymentName:"RETI"===this.userbase.inauguralStatus.key?this.userbase.retireEmploymentName:null},"DOCT"!==this.userbase.inauguralStatus.key&&t.evidenceStuffs.push({name:"单位证明",matterId:this.userbase.prove3.map(function(e){return e.id}).toString()});break;case"2":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,donateNum:this.userbase.count.toString()+".00",donateTime:this.userbase.donateTime+" 00:00:00",donateType:this.userbase.donateType,employment:"WORK"===this.userbase.inauguralStatus.key?this.userbase.employment.id:null,employmentArea:"DOCT"===this.userbase.inauguralStatus.key?null:this.userbase.employmentArea,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:e.volume}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()},{type:"4",matterId:this.userbase.prove4.map(function(e){return e.id}).toString(),name:this.userbase.familyName,cardType:this.userbase.familyType,cardNo:this.userbase.famifamilyNumberlyName},{type:"3",matterId:this.userbase.prove1.map(function(e){return e.id}).toString()},{type:"2",matterId:this.userbase.prove5.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,inauguralStatus:this.userbase.inauguralStatus.key,identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,retireEmploymentName:"RETI"===this.userbase.inauguralStatus.key?this.userbase.retireEmploymentName:null},"DOCT"!==this.userbase.inauguralStatus.key&&t.evidenceStuffs.push({name:"单位证明",matterId:this.userbase.prove3.map(function(e){return e.id}).toString()});break;case"6":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,donateNum:this.userbase.count.toString()+".00",donateTime:this.userbase.donateTime+" 00:00:00",donateType:this.userbase.donateType,employment:"WORK"===this.userbase.inauguralStatus.key?this.userbase.employment.id:null,employmentArea:"DOCT"===this.userbase.inauguralStatus.key?null:this.userbase.employmentArea,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:e.volume}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()},{type:"10",matterId:this.userbase.prove1.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,inauguralStatus:"ETC",identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,placeType:this.userbase.placeType,retireEmploymentName:"RETI"===this.userbase.inauguralStatus.key?this.userbase.retireEmploymentName:null},"DOCT"!==this.userbase.inauguralStatus.key&&t.evidenceStuffs.push({name:"单位证明",matterId:this.userbase.prove3.map(function(e){return e.id}).toString()});break;case"5":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,employment:"WORK"===this.userbase.inauguralStatus.key?this.userbase.employment.id:null,employmentArea:"DOCT"===this.userbase.inauguralStatus.key?null:this.userbase.employmentArea,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:e.volume}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,inauguralStatus:this.userbase.inauguralStatus.key,identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,retireEmploymentName:"RETI"===this.userbase.inauguralStatus.key?this.userbase.retireEmploymentName:null},"DOCT"!==this.userbase.inauguralStatus.key&&t.evidenceStuffs.push({name:"单位证明",matterId:this.userbase.prove3.map(function(e){return e.id}).toString()})}__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.saveData(t).then(function(){e.updateUserbase({age:e.userbase.age,agree:e.userbase.agree,gender:e.userbase.gender,idNumber:e.userbase.idNumber,identityType:e.userbase.identityType,name:e.userbase.name,phone:e.userbase.phone}),"5"===e.userbase.caseType?e.$router.push("/succ/5"):e.$router.push("/succ")}).catch(function(){e.$vux.toast.show({type:"warn",position:"middle",text:"提交失败，请检查！"})})},hospitalChange:function(e){var t=this;__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getHospitals(e).then(function(e){t.hospitals=e})},selectHospital:function(e){this.hospitals=[],this.userbase.hospital=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},e)},employmentChange:function(e){var t=this;__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getEmployments(e).then(function(e){t.employments=e})},selectemployment:function(e){this.employments=[],this.userbase.employment=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},e),this.userbase.employmentArea=this.userbase.employment.areaId},addBlood:function(){var e=this;if(this.$refs.bloodType.currentValue&&this.$refs.bloodCount.currentValue&&this.$refs.bloodCount.currentValue>0){var t=this.bloodSubTypes.filter(function(t){return t.id==e.$refs.bloodType.currentValue})[0];this.userbase.evidenceBloods.length>0&&-1!==this.userbase.evidenceBloods.findIndex(function(e){return e.bloodSubType==t.id})?this.userbase.evidenceBloods[this.userbase.evidenceBloods.findIndex(function(e){return e.bloodSubType==t.id})].volume=parseFloat(this.$refs.bloodCount.currentValue)+parseFloat(this.userbase.evidenceBloods[this.userbase.evidenceBloods.findIndex(function(e){return e.bloodSubType==t.id})].volume):this.userbase.evidenceBloods.push({bloodSubType:t.id,unit:t.unit,volume:parseFloat(this.$refs.bloodCount.currentValue).toFixed(2),name:t.name})}},deleteBlood:function(e){this.userbase.evidenceBloods.splice(e,1)},go:function(e,t){t?this.$router.push(e+"/"+t):this.$router.push(""+e)},inauguralStatusChange:function(){console.log(this.userbase.inauguralStatus),this.employments=[]},preview:function(){console.log(123)}}),created:function(){var e=this;__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getDisease().then(function(t){e.disease=t.map(function(e){return"其它"===e.name?e.value="其它 (请在下框输入)":e.value=e.name,e.key=e.id,e})}),__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getBloodSubType().then(function(t){e.bloodSubTypes=t.map(function(e){return e.value=e.name,e.key=e.id,e})}),__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getArea().then(function(t){e.areas=t.filter(function(e){return e.available}).map(function(e){return e.value=e.name,e.key=e.id,e})}),"01"===this.userbase.identityType&&(this.userbase.age=__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.IdCard(this.userbase.idNumber,3),this.userbase.gender=__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.IdCard(this.userbase.idNumber,2)),this.userbase.caseType=this.$route.params.caseType}}},NHnr:function(e,t,s){"use strict";function i(e){s("xKWW")}function a(e){s("81+y")}function r(e){s("9zH9")}function n(e){s("Js7q")}function u(e){s("GKv3")}function o(e){s("pSX5")}function l(e){s("uPtk")}function c(e){s("c2Ap")}function d(e){s("U7Hp")}function h(e){s("4pE8")}function p(e){s("astL")}function m(e){s("AuIY")}function b(e){s("vmex")}function v(e){s("BL3e")}function _(e){s("r/S+")}function y(e){s("NQTZ")}function f(e){s("X+dp")}function g(e){s("iz3p")}function x(e){s("yDZ4")}function T(e){s("yiUR")}function S(e){s("uO6d")}function w(e){s("YDYb")}function k(e){return JSON.parse(at()(e))}function C(e){return JSON.parse(at()(e))}function E(e){s("7aWB")}function $(e){s("apyy")}function N(e){s("cC6l")}function O(e){s("Fv3j")}function V(e,t){return at()(e)===at()(t)}function D(e,t){return at()(e)===at()(t)}function B(e){s("4lfr")}function I(e){s("7I26")}function A(e){s("QWE9")}Object.defineProperty(t,"__esModule",{value:!0});var R=s("7+uW"),M=s("v5o6"),P=s.n(M),F={name:"app",data:function(){return{transitionName:"slide-right"}},watch:{$route:function(e,t){var s=this.$router.isBack;this.transitionName=s?"slide-right":"slide-left",this.$router.isBack=!1}}},L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("transition",[s("router-view")],1)],1)},W=[],U={render:L,staticRenderFns:W},q=U,K=s("VU/8"),j=i,H=K(F,q,!1,j,null,null),z=H.exports,Y=s("/ocq"),J={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h1",[e._v(e._s(e.msg))]),e._v(" "),s("h2",[e._v("Essential Links")])])},Q=[],G={render:X,staticRenderFns:Q},Z=G,ee=s("VU/8"),te=a,se=ee(J,Z,!1,te,"data-v-2a47dbef",null),ie=se.exports,ae=s("wmxo"),re=(ae.a,String,String,String,String,String,String,Number,String,String,{name:"group",methods:{cleanStyle:ae.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}),ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.title?s("div",{staticClass:"weui-cells__title",style:e.cleanStyle({color:e.titleColor}),domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e._t("title"),e._v(" "),s("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!e.title},style:e.cleanStyle({marginTop:"number"==typeof e.gutter?e.gutter+"px":e.gutter})},[e._t("after-title"),e._v(" "),e._t("default")],2),e._v(" "),e.footerTitle?s("div",{staticClass:"weui-cells__title vux-group-footer-title",style:e.cleanStyle({color:e.footerTitleColor}),domProps:{innerHTML:e._s(e.footerTitle)}}):e._e()],2)},ue=[],oe={render:ne,staticRenderFns:ue},le=oe,ce=s("VU/8"),de=r,he=ce(re,le,!1,de,null,null),pe=he.exports,me={name:"inline-desc"},be=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"vux-label-desc"},[e._t("default")],2)},ve=[],_e={render:be,staticRenderFns:ve},ye=_e,fe=s("VU/8"),ge=n,xe=fe(me,ye,!1,ge,null,null),Te=xe.exports,Se=s("0FxO"),we=s("2IIR"),ke=s("vLYD"),Ce=(Object(we.a)(),{name:"cell",components:{InlineDesc:Te},props:Object(we.a)(),created:function(){},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return Object(ae.a)({width:Object(ke.a)(this,"labelWidth"),textAlign:Object(ke.a)(this,"labelAlign"),marginRight:Object(ke.a)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&Object(Se.a)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}),Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"weui-cell",class:{"vux-tap-active":e.isLink||!!e.link,"weui-cell_access":e.isLink||!!e.link,"vux-cell-no-border-intent":!e.borderIntent,"vux-cell-disabled":e.disabled},style:e.style,on:{click:e.onClick}},[s("div",{staticClass:"weui-cell__hd"},[e._t("icon")],2),e._v(" "),s("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===e.primary&&"left"!==e.valueAlign}},[s("p",[e.title||e.hasTitleSlot?s("label",{staticClass:"vux-label",class:e.labelClass,style:e.labelStyles},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e._v(" "),e._t("after-title")],2),e._v(" "),s("inline-desc",[e._t("inline-desc",[e._v(e._s(e.inlineDesc))])],2)],1),e._v(" "),s("div",{staticClass:"weui-cell__ft",class:e.valueClass},[e._t("value"),e._v(" "),e._t("default",[e._v(e._s(e.value))]),e._v(" "),e.isLoading?s("i",{staticClass:"weui-loading"}):e._e()],2),e._v(" "),e._t("child")],2)},$e=[],Ne={render:Ee,staticRenderFns:$e},Oe=Ne,Ve=s("VU/8"),De=u,Be=Ve(Ce,Oe,!1,De,null,null),Ie=Be.exports,Ae={name:"HelloFromVux",components:{Group:pe,Cell:Ie},data:function(){return{msg:"Hello World!"}}},Re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._m(0),e._v(" "),s("group",{attrs:{title:"cell demo"}},[s("cell",{attrs:{title:"VUX",value:"123","is-link":""}})],1)],1)},Me=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-demo"},[i("img",{staticClass:"logo",attrs:{src:s("ge4Q")}}),e._v(" "),i("h1")])}],Pe={render:Re,staticRenderFns:Me},Fe=Pe,Le=s("VU/8"),We=o,Ue=Le(Ae,Fe,!1,We,null,null),qe=Ue.exports,Ke=s("Dd8w"),je=s.n(Ke),He=s("8sLa"),ze=s("NYxO"),Ye=(je()({},Object(ze.c)(["identityTypeList"])),je()({},Object(ze.b)(["getIdentityType"]),{go:function(e,t){this.$router.push(e+"/"+t)}}),{name:"Home",data:function(){return{msg:"Welcome to Your Vue.js Home"}},computed:je()({},Object(ze.c)(["identityTypeList"])),methods:je()({},Object(ze.b)(["getIdentityType"]),{go:function(e,t){this.$router.push(e+"/"+t)}}),created:function(){this.$store.state.identityTypeList.length<=0&&this.getIdentityType()}}),Je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("div",{staticClass:"default-layout"},[s("x-button",{attrs:{gradients:["#2FC41D","#67DB29"]},nativeOn:{click:function(t){e.go("application","post")}}},[e._v("用血审证申请")]),e._v(" "),s("x-button",{attrs:{gradients:["#0597FF","#19C6FF"]},nativeOn:{click:function(t){e.go("application","search")}}},[e._v("用血审证查询")])],1)])},Xe=[],Qe={render:Je,staticRenderFns:Xe},Ge=Qe,Ze=s("VU/8"),et=l,tt=Ze(Ye,Ge,!1,et,"data-v-0c3abe6b",null),st=tt.exports,it=s("mvHQ"),at=s.n(it),rt=s("E4LH"),nt=(je()({},Object(ze.b)(["getIdentityType","updateUserbase"]),{submit:function(){var e=this;this.userbase.name&&this.userbase.identityType&&this.userbase.idNumber&&this.userbase.agree?(this.updateUserbase(je()({},this.userbase)),"search"===this.type?He.a.getEvidence({id:this.userbase.idNumber,name:this.userbase.name}).then(function(t){e.$router.push({name:"progress",params:{data:at()(t[0])}})}).catch(function(t){e.$vux.toast.show({type:"warn",position:"middle",text:t})}):this.$router.push("/apply")):this.show=!1}}),{name:"Application",data:function(){var e=this;return{msg:"Application",userbase:je()({},this.$store.state.userbase),show:!1,validate:function(t){var s=!0;return"01"!==e.userbase.identityType||rt.a.isIdentity(t)||(s=!1),{valid:s,msg:"Error"}},type:this.$route.params.type}},computed:{identityTypeList:function(){return this.$store.state.identityTypeList.length<=0&&this.getIdentityType(),this.$store.state.identityTypeList.map(function(e){return e.key=e.id,e.value=e.name,e})},disabled:function(){return"01"===this.userbase.identityType&&!rt.a.isIdentity(this.userbase.idNumber)||!(this.userbase.name&&this.userbase.identityType&&this.userbase.idNumber&&this.userbase.agree)}},methods:je()({},Object(ze.b)(["getIdentityType","updateUserbase"]),{submit:function(){var e=this;this.userbase.name&&this.userbase.identityType&&this.userbase.idNumber&&this.userbase.agree?(this.updateUserbase(je()({},this.userbase)),"search"===this.type?He.a.getEvidence({id:this.userbase.idNumber,name:this.userbase.name}).then(function(t){e.$router.push({name:"progress",params:{data:at()(t[0])}})}).catch(function(t){e.$vux.toast.show({type:"warn",position:"middle",text:t})}):this.$router.push("/apply")):this.show=!1}}),created:function(){}}),ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("header-history",{attrs:{path:"#/home"}}),e._v(" "),s("section",{staticClass:"clear"},[s("div",{staticClass:"default-layout"},[s("toast",{attrs:{type:"warn"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v("请填写完整信息")]),e._v(" "),s("p",{staticClass:"title"},[e._v("用血者信息")]),e._v(" "),s("group",{attrs:{title:""}},[s("x-input",{attrs:{title:"姓名",max:10,required:"",name:"username",placeholder:"请输入姓名"},model:{value:e.userbase.name,callback:function(t){e.$set(e.userbase,"name",t)},expression:"userbase.name"}}),e._v(" "),s("selector",{ref:"defaultValueRef",attrs:{required:"",title:"证件类型",direction:"rtl",options:e.identityTypeList},model:{value:e.userbase.identityType,callback:function(t){e.$set(e.userbase,"identityType",t)},expression:"userbase.identityType"}}),e._v(" "),s("x-input",{attrs:{title:"证件号码",max:30,"is-type":e.validate,required:"",name:"username",placeholder:"请输入证件号码"},model:{value:e.userbase.idNumber,callback:function(t){e.$set(e.userbase,"idNumber",t)},expression:"userbase.idNumber"}})],1),e._v(" "),s("div",{staticStyle:{padding:"15px 0"}},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userbase.agree,expression:"userbase.agree"}],attrs:{type:"checkbox",value:"checkbox",checked:"true"},domProps:{checked:Array.isArray(e.userbase.agree)?e._i(e.userbase.agree,"checkbox")>-1:e.userbase.agree},on:{change:function(t){var s=e.userbase.agree,i=t.target,a=!!i.checked;if(Array.isArray(s)){var r=e._i(s,"checkbox");i.checked?r<0&&e.$set(e.userbase,"agree",s.concat(["checkbox"])):r>-1&&e.$set(e.userbase,"agree",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.userbase,"agree",a)}}}),e._v(" "),e._v("\n                                    我已阅知\n                                ")]),s("a",{staticClass:"text-info",attrs:{href:"#/notify"}},[e._v("《上海市办理用血手续须知》")]),e._v(" "),s("x-button",{attrs:{disabled:e.disabled,type:"primary"},nativeOn:{click:function(t){e.submit()}}},[e._v(e._s("search"===e.type?"审证查询":"我要申请"))])],1)],1)])],1)},ot=[],lt={render:ut,staticRenderFns:ot},ct=lt,dt=s("VU/8"),ht=c,pt=dt(nt,ct,!1,ht,"data-v-c010b518",null),mt=pt.exports,bt=(je()({},Object(ze.c)(["identityTypeList"]),{senility:function(){return"01"===this.userbase.identityType&&rt.a.IdCard(this.userbase.idNumber,3)<60},noContinent:function(){return"03"!==this.userbase.identityType&&"06"!==this.userbase.identityType&&"07"!==this.userbase.identityType},donoteBlood:function(){return!1},family:function(){return!1},soldier:function(){return"04"!==this.userbase.identityType},student:function(){return!1},noBlood:function(){return!1},inconformity:function(){return!1}}),je()({},Object(ze.b)(["getIdentityType"]),{go:function(e,t){t?this.$router.push(e+"/"+t):this.$router.push(e)}}),{name:"apply",data:function(){return{userbase:je()({},this.$store.state.userbase)}},computed:je()({},Object(ze.c)(["identityTypeList"]),{senility:function(){return"01"===this.userbase.identityType&&rt.a.IdCard(this.userbase.idNumber,3)<60},noContinent:function(){return"03"!==this.userbase.identityType&&"06"!==this.userbase.identityType&&"07"!==this.userbase.identityType},donoteBlood:function(){return!1},family:function(){return!1},soldier:function(){return"04"!==this.userbase.identityType},student:function(){return!1},noBlood:function(){return!1},inconformity:function(){return!1}}),methods:je()({},Object(ze.b)(["getIdentityType"]),{go:function(e,t){t?this.$router.push(e+"/"+t):this.$router.push(e)}}),created:function(){this.$store.state.identityTypeList.length<=0&&this.getIdentityType()}}),vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("header-history",{attrs:{path:"#/application"}}),e._v(" "),s("div",{staticClass:"default-layout"},[s("p",{staticClass:"title"},[e._v("请选择用血者情况")]),e._v(" "),s("x-button",{attrs:{disabled:e.senility,type:"primary"},nativeOn:{click:function(t){e.go("senility","3")}}},[e._v("60周岁以上")]),e._v(" "),s("x-button",{attrs:{disabled:e.noContinent,type:"primary"},nativeOn:{click:function(t){e.go("senility","4")}}},[e._v("非中国大陆居民")]),e._v(" "),s("x-button",{attrs:{disabled:e.donoteBlood,type:"primary"},nativeOn:{click:function(t){e.go("senility","1")}}},[e._v("用血者本人曾参加无偿献血")]),e._v(" "),s("x-button",{attrs:{disabled:e.family,type:"primary"},nativeOn:{click:function(t){e.go("senility","2")}}},[e._v("家庭成员5年内在上海市献过血")]),e._v(" "),s("x-button",{attrs:{disabled:e.soldier,type:"primary"},nativeOn:{click:function(t){e.go("senility","8")}}},[e._v("驻沪部队军人")]),e._v(" "),s("x-button",{attrs:{disabled:e.student,type:"primary"},nativeOn:{click:function(t){e.go("senility","6")}}},[e._v("本市全日制高校在校师生")]),e._v(" "),s("x-button",{attrs:{disabled:e.noBlood,type:"primary"},nativeOn:{click:function(t){e.go("senility","5")}}},[e._v("本人及家庭成员都未献过血")]),e._v(" "),s("x-button",{attrs:{disabled:e.inconformity,type:"primary"},nativeOn:{click:function(t){e.go("neither")}}},[e._v("以上情况均不符合")])],1)],1)},_t=[],yt={render:vt,staticRenderFns:_t},ft=yt,gt=s("VU/8"),xt=d,Tt=gt(bt,ft,!1,xt,"data-v-126f4235",null),St=Tt.exports,wt=(s("w7GG"),s("Kz3b")),kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("header-history",{attrs:{path:"#/apply"}}),e._v(" "),s("div",{staticClass:"default-layout"},[s("group",{attrs:{title:"用血者信息"}},[s("x-input",{attrs:{title:"姓名",disabled:"",required:"",max:10,name:"username",placeholder:"请输入姓名"},model:{value:e.userbase.name,callback:function(t){e.$set(e.userbase,"name",t)},expression:"userbase.name"}}),e._v(" "),s("selector",{attrs:{required:"",title:"性别",options:[{key:"1",value:"男"},{key:"2",value:"女"},{key:"0",value:"未知"},{key:"9",value:"未说明性别"}]},model:{value:e.userbase.gender,callback:function(t){e.$set(e.userbase,"gender",t)},expression:"userbase.gender"}}),e._v(" "),s("x-number",{attrs:{title:"年龄",width:"80px",min:0,max:120,fillable:"",required:"",name:"age",placeholder:"请输入年龄"},model:{value:e.userbase.age,callback:function(t){e.$set(e.userbase,"age",t)},expression:"userbase.age"}}),e._v(" "),s("x-input",{attrs:{title:"证件类型",disabled:"",value:e.identityTypeView}}),e._v(" "),s("x-input",{attrs:{title:"证件号码","is-type":e.validate,required:"",name:"idNumber",placeholder:"请输入证件号码"},model:{value:e.userbase.idNumber,callback:function(t){e.$set(e.userbase,"idNumber",t)},expression:"userbase.idNumber"}}),e._v(" "),s("x-input",{attrs:{title:"手机号","is-type":e.validatePhone,required:"",name:"phone",placeholder:"请输入手机号"},model:{value:e.userbase.phone,callback:function(t){e.$set(e.userbase,"phone",t)},expression:"userbase.phone"}}),e._v(" "),s("uploader",{attrs:{preview:e.preview,max:e.varmax,images:e.userbase.images,"upload-url":e.uploadUrl,name:"file",title:"身份证件照片",describe:"依次选择身份证姓名面，国徽面"}})],1),e._v(" "),s("group",{directives:[{name:"show",rawName:"v-show",value:"5"!==e.userbase.caseType,expression:"userbase.caseType !== '5'"}],attrs:{title:"2"===e.userbase.caseType?"家庭成员献血信息":"献血信息"}},[s("x-input",{directives:[{name:"show",rawName:"v-show",value:"2"===e.userbase.caseType,expression:"userbase.caseType === '2'"}],attrs:{max:30,title:"姓名",required:"",name:"username",placeholder:"请输入姓名"},model:{value:e.userbase.familyName,callback:function(t){e.$set(e.userbase,"familyName",t)},expression:"userbase.familyName"}}),e._v(" "),s("selector",{directives:[{name:"show",rawName:"v-show",value:"2"===e.userbase.caseType,expression:"userbase.caseType === '2'"}],attrs:{required:"",title:"证件类型",options:e.identityTypeList},model:{value:e.userbase.familyType,callback:function(t){e.$set(e.userbase,"familyType",t)},expression:"userbase.familyType"}}),e._v(" "),s("x-input",{directives:[{name:"show",rawName:"v-show",value:"2"===e.userbase.caseType,expression:"userbase.caseType === '2'"}],attrs:{max:30,title:"证件号码","is-type":e.familyValidate,required:"",placeholder:"请输入证件号码"},model:{value:e.userbase.familyNumber,callback:function(t){e.$set(e.userbase,"familyNumber",t)},expression:"userbase.familyNumber"}}),e._v(" "),s("selector",{directives:[{name:"show",rawName:"v-show",value:"2"===e.userbase.caseType,expression:"userbase.caseType === '2'"}],attrs:{required:"",title:"与献血者关系",options:[{key:"LOCAL",value:"本地"},{key:"1",value:"父母"},{key:"2",value:"子女"},{key:"3",value:"岳父母"},{key:"4",value:"公婆"},{key:"5",value:"配偶"}]},model:{value:e.userbase.relation,callback:function(t){e.$set(e.userbase,"relation",t)},expression:"userbase.relation"}}),e._v(" "),s("selector",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.userbase.caseType,expression:"userbase.caseType !== '2'"}],attrs:{required:"",title:"献血地点",options:[{key:"LOCAL",value:"本地"},{key:"NONLOCAL",value:"外地"},{key:"NEVER",value:"无"}]},model:{value:e.userbase.placeType,callback:function(t){e.$set(e.userbase,"placeType",t)},expression:"userbase.placeType"}}),e._v(" "),s("x-number",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.userbase.caseType,expression:"userbase.caseType !== '2'"}],attrs:{title:"献血次数",width:"80px",min:0,max:1e3,fillable:"",required:"",name:"count",placeholder:"请输入献血次数"},model:{value:e.userbase.count,callback:function(t){e.$set(e.userbase,"count",t)},expression:"userbase.count"}}),e._v(" "),s("datetime",{attrs:{title:"最近献血时间","min-year":1950,"max-year":(new Date).getFullYear()},model:{value:e.userbase.donateTime,callback:function(t){e.$set(e.userbase,"donateTime",t)},expression:"userbase.donateTime"}}),e._v(" "),s("selector",{attrs:{required:"",title:"献血类型",options:[{key:"WHOL",value:"全血"},{key:"APHE",value:"单采血小板"}]},model:{value:e.userbase.donateType,callback:function(t){e.$set(e.userbase,"donateType",t)},expression:"userbase.donateType"}}),e._v(" "),s("uploader",{directives:[{name:"show",rawName:"v-show",value:"2"===e.userbase.caseType,expression:"userbase.caseType === '2'"}],attrs:{max:e.varmax,images:e.userbase.prove4,"upload-url":e.uploadUrl,name:"file",title:"关系证明",describe:"请上传献血者与用血的关系证明，如结婚证、出生证、户口本、公安机关开具的正规关系"}}),e._v(" "),s("uploader",{directives:[{name:"show",rawName:"v-show",value:"2"===e.userbase.caseType,expression:"userbase.caseType === '2'"}],attrs:{max:e.varmax,images:e.userbase.prove5,"upload-url":e.uploadUrl,name:"file",title:"献血者身份证明",describe:" 依次选择身份证姓名面，国徽面"}}),e._v(" "),s("uploader",{attrs:{max:e.varmax,images:e.userbase.prove1,"upload-url":e.uploadUrl,name:"file",title:"献血证明",describe:"请上传一张最近一次的献血证，要求上传献血者信息详情页、献血记录页、用血记录页"}})],1),e._v(" "),s("group",{attrs:{title:"用血信息"}},[s("x-input",{attrs:{title:"用血医院",required:"",max:30,name:"hospital",placeholder:"请搜索医院"},on:{"on-keyup":e.hospitalChange},model:{value:e.userbase.hospital.name,callback:function(t){e.$set(e.userbase.hospital,"name",t)},expression:"userbase.hospital.name"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.hospitals.length>0,expression:"hospitals.length > 0"}],staticClass:"weui-cells vux-search_show",staticStyle:{position:"absolute","margin-top":"0px","max-height":"200px","overflow-y":"auto","z-index":"5000",width:"100%"}},e._l(e.hospitals,function(t){return s("div",{key:t.id,staticClass:"weui-cell weui-cell_access"},[s("div",{staticClass:"weui-cell__bd weui-cell_primary",on:{click:function(s){e.selectHospital(t)}}},[s("p",[e._v(e._s(t.name)+" ")])])])})),e._v(" "),s("x-input",{attrs:{title:"医院所在区",disabled:"",max:30},model:{value:e.userbase.hospital.areaName,callback:function(t){e.$set(e.userbase.hospital,"areaName",t)},expression:"userbase.hospital.areaName"}}),e._v(" "),s("selector",{attrs:{required:"",title:"临床诊断",options:e.disease},model:{value:e.userbase.diagnosis,callback:function(t){e.$set(e.userbase,"diagnosis",t)},expression:"userbase.diagnosis"}}),e._v(" "),s("x-input",{directives:[{name:"show",rawName:"v-show",value:"40"==e.userbase.diagnosis,expression:"userbase.diagnosis == '40'"}],attrs:{title:"其它诊断",max:30,placeholder:"请输入临床诊断信息"},model:{value:e.userbase.otherDiseaseName,callback:function(t){e.$set(e.userbase,"otherDiseaseName",t)},expression:"userbase.otherDiseaseName"}}),e._v(" "),s("selector",{ref:"bloodType",attrs:{required:"",title:"用血品种",options:e.bloodSubTypes}}),e._v(" "),s("x-input",{ref:"bloodCount",attrs:{title:"用血量（U）",min:0,max:3,fillable:"",placeholder:"请输入",type:"number"}},[s("x-button",{attrs:{slot:"right",type:"primary",mini:""},nativeOn:{click:function(t){e.addBlood()}},slot:"right"},[e._v("添加")])],1),e._v(" "),s("x-table",{staticStyle:{"background-color":"#fff"},attrs:{"cell-bordered":!1,"content-bordered":!1}},[s("thead",[s("tr",{staticStyle:{"background-color":"#fff"}},[s("th",[e._v("用血品种")]),e._v(" "),s("th",[e._v("用血量")]),e._v(" "),s("th",[e._v("操作")])])]),e._v(" "),s("tbody",e._l(e.userbase.evidenceBloods,function(t,i){return s("tr",{key:t.bloodSubType},[s("td",[e._v(e._s(t.name))]),e._v(" "),s("td",[e._v(e._s(t.volume)+" "+e._s(t.unit))]),e._v(" "),s("td",[s("icon",{attrs:{type:"cancel"},nativeOn:{click:function(t){e.deleteBlood(i)}}})],1)])}))]),e._v(" "),s("uploader",{attrs:{max:e.varmax,images:e.userbase.prove2,"upload-url":e.uploadUrl,name:"file",title:"用血通知书",describe:"请上传用血通知书页面，并根据医生填写的用血类型与用血量仔细填写用血情况"}})],1),e._v(" "),s("group",{directives:[{name:"show",rawName:"v-show",value:"1"===e.userbase.caseType||"2"===e.userbase.caseType||"6"===e.userbase.caseType||"5"===e.userbase.caseType,expression:"userbase.caseType==='1' || userbase.caseType==='2' || userbase.caseType==='6' || userbase.caseType==='5'"}],attrs:{title:"6"===e.userbase.caseType?"本市全日制高校":"用血者工作情况"}},[s("div",{staticClass:"box"},[s("checker",{attrs:{"default-item-class":"inauguralStatus-item","selected-item-class":"inauguralStatus-item-selected"},on:{"on-change":function(t){e.inauguralStatusChange()}},model:{value:e.userbase.inauguralStatus,callback:function(t){e.$set(e.userbase,"inauguralStatus",t)},expression:"userbase.inauguralStatus"}},e._l("6"===e.userbase.caseType?[{key:"ETC1",value:"在校教师"},{key:"ETC2",value:"在校学生"}]:[{key:"WORK",value:"本市有工作单位"},{key:"UMEM",value:"本市无工作单位"},{key:"RETI",value:"本市退休职工"},{key:"DOCT",value:"外省市来沪就医"}],function(t,i){return s("checker-item",{key:i,attrs:{value:t}},[e._v(e._s(t.value))])}))],1),e._v(" "),s("x-input",{directives:[{name:"show",rawName:"v-show",value:"RETI"===e.userbase.inauguralStatus.key,expression:"userbase.inauguralStatus.key === 'RETI'"}],attrs:{title:"退休单位名称",max:30,required:"",placeholder:"请输入退休单位"},model:{value:e.userbase.retireEmploymentName,callback:function(t){e.$set(e.userbase,"retireEmploymentName",t)},expression:"userbase.retireEmploymentName"}}),e._v(" "),s("x-input",{directives:[{name:"show",rawName:"v-show",value:"WORK"===e.userbase.inauguralStatus.key||"ETC1"===e.userbase.inauguralStatus.key||"ETC2"===e.userbase.inauguralStatus.key,expression:"userbase.inauguralStatus.key === 'WORK' || userbase.inauguralStatus.key === 'ETC1' || userbase.inauguralStatus.key === 'ETC2'"}],attrs:{title:"WORK"===e.userbase.inauguralStatus.key?"单位名称":"ETC1"===e.userbase.inauguralStatus.key||"ETC2"===e.userbase.inauguralStatus.key?"高校名称":"退休单位名称",required:"",max:30,placeholder:"请搜索"},on:{"on-keyup":e.employmentChange},model:{value:e.userbase.employment.name,callback:function(t){e.$set(e.userbase.employment,"name",t)},expression:"userbase.employment.name"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.employments.length>0,expression:"employments.length > 0"}],staticClass:"weui-cells vux-search_show",staticStyle:{position:"absolute","margin-top":"0px","max-height":"200px","overflow-y":"auto","z-index":"5000",width:"100%"}},e._l(e.employments,function(t){return s("div",{key:t.id,staticClass:"weui-cell weui-cell_access"},[s("div",{staticClass:"weui-cell__bd weui-cell_primary",on:{click:function(s){e.selectemployment(t)}}},[s("p",[e._v(e._s(t.name)+" ")])])])})),e._v(" "),s("selector",{directives:[{name:"show",rawName:"v-show",value:"DOCT"!==e.userbase.inauguralStatus.key&&"ETC1"!==e.userbase.inauguralStatus.key&&"ETC2"!==e.userbase.inauguralStatus.key,expression:"userbase.inauguralStatus.key !== 'DOCT' && userbase.inauguralStatus.key !== 'ETC1' && userbase.inauguralStatus.key !== 'ETC2'"}],attrs:{required:"",title:"WORK"===e.userbase.inauguralStatus.key?"缴纳社保区":"UMEM"===e.userbase.inauguralStatus.key?"户籍所在区":"退休单位所在区",options:e.areas},model:{value:e.userbase.employmentArea,callback:function(t){e.$set(e.userbase,"employmentArea",t)},expression:"userbase.employmentArea"}}),e._v(" "),s("uploader",{directives:[{name:"show",rawName:"v-show",value:"DOCT"!==e.userbase.inauguralStatus.key,expression:"userbase.inauguralStatus.key !== 'DOCT'"}],attrs:{max:e.varmax,images:e.userbase.prove3,"upload-url":e.uploadUrl,name:"file",title:"WORK"===e.userbase.inauguralStatus.key?"相关材料":"UMEM"===e.userbase.inauguralStatus.key?"户口本和无业证明":"ETC1"===e.userbase.inauguralStatus.key?"工作证":"ETC2"===e.userbase.inauguralStatus.key?"学生证":"相关材料",describe:"WORK"===e.userbase.inauguralStatus.key?"请填写单位全称，并咨询单位人事确认您单位社保缴纳所在区":"UMEM"===e.userbase.inauguralStatus.key?"请上传您的无业证明，如劳动手册等":"单位退休则选择单位缴纳社保所在区，街道退休则选择街道所在区"}})],1),e._v(" "),s("div",{staticStyle:{padding:"15px 0"}},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userbase.agree,expression:"userbase.agree"}],attrs:{type:"checkbox",required:"",value:"checkbox",checked:"true"},domProps:{checked:Array.isArray(e.userbase.agree)?e._i(e.userbase.agree,"checkbox")>-1:e.userbase.agree},on:{change:function(t){var s=e.userbase.agree,i=t.target,a=!!i.checked;if(Array.isArray(s)){var r=e._i(s,"checkbox");i.checked?r<0&&e.$set(e.userbase,"agree",s.concat(["checkbox"])):r>-1&&e.$set(e.userbase,"agree",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.userbase,"agree",a)}}}),e._v("\n                              本人承诺以上资料均属实\n                          ")]),e._v(" "),s("x-button",{attrs:{type:"primary",disabled:e.disabled},nativeOn:{click:function(t){e.submit()}}},[e._v("我要申请")])],1)],1)],1)},Ct=[],Et={render:kt,staticRenderFns:Ct},$t=Et,Nt=s("VU/8"),Ot=h,Vt=Nt(wt.a,$t,!1,Ot,"data-v-04a7657c",null),Dt=Vt.exports,Bt={name:"Succ",data:function(){return{caseType:this.$route.params.caseType}},computed:{},methods:{go:function(e){this.$router.push(e)}},created:function(){}},It=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("header",{staticClass:"pr"},[e._v("\n         用血审证提交\n    ")]),e._v(" "),s("div",{staticClass:"reply_frame p-a",staticStyle:{"text-align":"center"}},[s("span",{staticClass:"center-block submit_bg"}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"5"!==e.caseType,expression:"caseType !== '5'"}]},[e._m(0),e._v(" "),s("span",{staticClass:"center-block"},[e._v("您可通过微信中 “审证查询” 功能查询进度")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"5"===e.caseType,expression:"caseType === '5'"}]},[e._m(1),e._v(" "),s("a",{staticStyle:{color:"#5bc0de"},attrs:{href:"#/contact"}},[e._v("《本市血液管理机构联系方式》")])]),e._v(" "),s("p",{staticClass:"back_index"},[s("a",{staticClass:"btn btn-primary w100",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.go("home")}}},[e._v("返回主页")])])])])},At=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"text-center"},[e._v("        您好，您的申请请求已提交！"),s("br"),e._v("\n              我们将于 2个工作日之内予以答复")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"text-center"},[e._v(" 您好，您的用血审证资料已提交！"),s("br"),e._v("\n          请带齐资料到血液管理办公室办理手续。")])}],Rt={render:It,staticRenderFns:At},Mt=Rt,Pt=s("VU/8"),Ft=p,Lt=Pt(Bt,Mt,!1,Ft,"data-v-04d1031c",null),Wt=Lt.exports,Ut={name:"Contact",data:function(){return{}},computed:{},methods:{go:function(e,t){this.$router.goBack()}},created:function(){}},qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("section",{staticClass:"container reg_start_frame"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"footer"},[s("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.go()}}},[e._v("确定")])],1)])])},Kt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group row title"},[s("h4",{staticClass:"col-xs-12 text-center"},[e._v("用血手续须知")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group row description"},[s("div",{staticClass:"col-xs-12 text-left"},[s("p",[e._v("1、六十周岁以上的公民需要医疗临床用血的，凭本人《居民身份证》由医疗机构直接供血。")]),e._v(" "),s("p",[e._v("2、在本市的外国公民、华侨、香港特别行政区居民、澳门地区居民和台湾地区居民需要医疗临床用血的，凭本人的有效身份证件由医疗机构直接供血。")]),e._v(" "),s("p",[e._v("3、有工作单位的本市公民需要用血的，至单位缴纳养老金所在地的区血液管理机构办理用血手续，交纳（免交）用血互助金。")]),e._v(" "),s("p",[e._v("4、无工作单位的本市公民需要用血的，至户籍所在地的区血液管理机构办理用血手续，交纳（免交）用血互助金。")]),e._v(" "),s("p",[e._v("5、外省市来沪就医的公民需要用血的，至医疗机构所在的区血液管理机构办理用血手续，交纳（免交）用血互助金、")]),e._v(" "),s("p",[e._v("6、驻沪部队军人、全日制高校的在校师生等需要用血的，至上海市血液管理办公室办理用血手续。")]),e._v(" "),s("p",[e._v("7、急救病人需要医疗临床用血的，医疗机构应当先提供所需血液，病人及其家庭成员或其所在单位按照《上海市献血条例》的规定补办用血手续。")])])])}],jt={render:qt,staticRenderFns:Kt},Ht=jt,zt=s("VU/8"),Yt=m,Jt=zt(Ut,Ht,!1,Yt,"data-v-50c11a10",null),Xt=Jt.exports,Qt={name:"Notify",data:function(){return{list:[{}]}},computed:{},methods:{go:function(e,t){this.$router.goBack()}},created:function(){}},Gt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("section",{staticClass:"container reg_start_frame"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"footer"},[s("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.go()}}},[e._v("确定")])],1)])])},Zt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group row title"},[s("h4",{staticClass:"col-xs-12 text-center"},[e._v("本市血液管理机构联系方式")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group row description"},[s("table",[s("thead",[s("tr",{staticStyle:{"font-size":"18px"}},[s("th",{attrs:{width:"40%"}},[e._v("单位名称")]),e._v(" "),s("th",{attrs:{width:"20%"}},[e._v("电话")]),e._v(" "),s("th",{attrs:{width:"40%"}},[e._v("地址")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("上海市血液管理办公室")]),s("td",[e._v("62191426")]),s("td",[e._v("虹桥路1191路2号楼")])]),e._v(" "),s("tr",[s("td",[e._v("黄浦区血液管理办公室")]),s("td",[e._v("63213480")]),s("td",[e._v("制造局路181号")])]),e._v(" "),s("tr",[s("td",[e._v("徐汇区血液管理办公室")]),s("td",[e._v("54012500")]),s("td",[e._v("永川路50号")])]),e._v(" "),s("tr",[s("td",[e._v("长宁区血液管理办公室")]),s("td",[e._v("52064611")]),s("td",[e._v("云雾山路39号1楼118室")])]),e._v(" "),s("tr",[s("td",[e._v("静安区血液事务管理中心")]),s("td",[e._v("62535896")]),s("td",[e._v("胶州路433号705室")])]),e._v(" "),s("tr",[s("td",[e._v("普陀区血液管理办公室")]),s("td",[e._v("62168728")]),s("td",[e._v("兰溪路164号")])]),e._v(" "),s("tr",[s("td",[e._v("虹口区血液管理办公室")]),s("td",[e._v("63248448")]),s("td",[e._v("东江湾路444号虹口足球场22号")])]),e._v(" "),s("tr",[s("td",[e._v("杨浦区血液管理事务中心")]),s("td",[e._v("65455802")]),s("td",[e._v("平凉路339号2楼")])]),e._v(" "),s("tr",[s("td",[e._v("杨浦区血液管理事务中心")]),s("td",[e._v("65455802")]),s("td",[e._v("平凉路339号2楼")])]),e._v(" "),s("tr",[s("td",[e._v("宝山区血液管理中心")]),s("td",[e._v("66650059")]),s("td",[e._v("牡丹江路186弄1号")])]),e._v(" "),s("tr",[s("td",[e._v("闵行区血液管理事务中心")]),s("td",[e._v("64922028")]),s("td",[e._v("莘东路520号")])]),e._v(" "),s("tr",[s("td",[e._v("嘉定区血液管理办公室")]),s("td",[e._v("59529299")]),s("td",[e._v("金沙路255号")])]),e._v(" "),s("tr",[s("td",[e._v("浦东新区血液管理办公室")]),s("td",[e._v("50179571")]),s("td",[e._v("东建路531号")])]),e._v(" "),s("tr",[s("td",[e._v("奉贤区血液管理办公室")]),s("td",[e._v("67116255")]),s("td",[e._v("南桥镇立新南路52号")])]),e._v(" "),s("tr",[s("td",[e._v("松江区血液管理办公室")]),s("td",[e._v("67735403")]),s("td",[e._v("文诚路801号")])]),e._v(" "),s("tr",[s("td",[e._v("金山区血液管理事务中心")]),s("td",[e._v("57953013")]),s("td",[e._v("金山区石化蒙源路99号10楼1011-1室")])]),e._v(" "),s("tr",[s("td",[e._v("青浦区献血办公室")]),s("td",[e._v("69735033")]),s("td",[e._v("镇华科路550弄3号楼")])]),e._v(" "),s("tr",[s("td",[e._v("崇明区血站")]),s("td",[e._v("59612109")]),s("td",[e._v("城内东门路306号")])])])])])}],es={render:Gt,staticRenderFns:Zt},ts=es,ss=s("VU/8"),is=b,as=ss(Qt,ts,!1,is,"data-v-056dd275",null),rs=as.exports,ns={name:"Progress",data:function(){return{caseType:this.$route.params.caseType,stepFirst:JSON.parse(decodeURIComponent(this.$route.params.data))}},computed:{},methods:{go:function(e){this.$router.replace(e)}},created:function(){console.log(this.stepFirst)}},us=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("header-history",{attrs:{path:"#/application/search"}}),e._v(" "),s("div",{staticClass:"p-a"},[s("div",[s("div",{staticClass:"container"},[s("flexbox",[s("flexbox-item",[s("div",{staticClass:"reg_res bg-info center-block"},[e._v("\n                          审证提交\n                      ")]),e._v(" "),s("span",[e._v(e._s(e.stepFirst.applyTime&&e.stepFirst.applyTime.substr(0,10)))]),e._v(" "),s("span",[e._v(e._s(e.stepFirst.applyTime&&e.stepFirst.applyTime.substr(11)))])]),e._v(" "),s("flexbox-item",[s("div",{staticClass:"reg_res_center"},[s("div",{staticClass:"center-block reg_res_array"})])]),e._v(" "),s("flexbox-item",["Default"===e.stepFirst.result?s("div",{staticClass:"reg_res reg_res_on center-block"},[e._v("\n                          正在审核\n                      ")]):e._e(),e._v(" "),"Direct"===e.stepFirst.result|"Pass"===e.stepFirst.result?s("div",{staticClass:"reg_res bg-success center-block"},[e._v("\n                          审核完成\n                      ")]):e._e(),e._v(" "),"UnPass"===e.stepFirst.result?s("div",{staticClass:"reg_res bg-success center-block",staticStyle:{"line-height":"1.8rem","padding-top":"1rem","background-color":"red"}},[e._v("\n                          审核 "),s("br"),e._v("未通过\n                      ")]):e._e(),e._v(" "),s("span",[e._v(e._s(e.stepFirst.auditTime&&e.stepFirst.auditTime.substr(0,10)||"--"))]),s("br"),e._v(" "),s("span",[e._v(e._s(e.stepFirst.auditTime&&e.stepFirst.auditTime.substr(11)||"--"))])])],1)],1)]),e._v(" "),s("section",{staticClass:"container res_step_frame result_frame",staticStyle:{"margin-top":"2rem"}},["Default"===e.stepFirst.result?s("div",{staticClass:"row"},[e._m(0),e._v(" "),s("p",{staticClass:"text-center"},[e._v("您可通过微信中 “审证查询” 功能查询进度")])]):e._e(),e._v(" "),"Direct"===e.stepFirst.result|"Pass"===e.stepFirst.result?s("div",{staticClass:"row"},[s("h5",{staticClass:"text-center"},[e._v("您已经完成用血审证，请准备资料在医院办理相关用血事宜。")])]):e._e(),e._v(" "),"UnPass"===e.stepFirst.result?s("div",["3"==e.stepFirst.caseType?s("div",{staticClass:"row"},[s("p",[e._v("60周岁以上:")]),e._v(" "),s("p",{staticStyle:{"text-indent":"2em"}},[e._v("您好，审核不通过。\n                      "),s("br"),e._v(e._s(e.stepFirst.unPassType)+", 请重新上传附件\n                      "),s("br"),e._v("请提供一下证明资料："+e._s(e.stepFirst.unPassObj)+"\n                      "),s("br"),e._v(e._s(e.stepFirst.auditRemark)+"\n                  ")])]):"4"==e.stepFirst.caseType?s("div",{staticClass:"row"},[s("p",[e._v("非大陆居民")]),e._v(" "),s("p",{staticStyle:{"text-indent":"2em"}},[e._v("您好，审核不通过。\n                      "),s("br"),e._v(e._s(e.stepFirst.unPassType)+", 请重新上传附件\n                      "),s("br"),e._v("请提供一下证明资料："+e._s(e.stepFirst.unPassObj)+"\n                      "),s("br"),e._v(e._s(e.stepFirst.auditRemark)+"\n                  ")])]):"1"==e.stepFirst.caseType?s("div",{staticClass:"row"},[s("p",[e._v("用血者本人献过血")]),e._v(" "),s("p",{staticStyle:{"text-indent":"2em"}},[e._v("您好，审核不通过。\n                      "),s("br"),e._v(e._s(e.stepFirst.unPassType)+", 请重新上传附件\n                      "),s("br"),e._v("请提供一下证明资料："+e._s(e.stepFirst.unPassObj)+"\n                      "),s("br"),e._v(e._s(e.stepFirst.auditRemark)+"\n                  ")])]):"2"==e.stepFirst.caseType?s("div",{staticClass:"row"},[s("p",[e._v("家庭成员献血")]),e._v(" "),s("p",{staticStyle:{"text-indent":"2em"}},[e._v("您好，审核不通过。\n                      "),s("br"),e._v(e._s(e.stepFirst.unPassType)+", 请重新上传附件\n                      "),s("br"),e._v("请提供一下证明资料："+e._s(e.stepFirst.unPassObj)+"\n                      "),s("br"),e._v(e._s(e.stepFirst.auditRemark)+"\n                  ")])]):s("div",{staticClass:"row"},[s("p",{staticStyle:{"text-indent":"2em"}},[e._v("您好，审核不通过。\n                      "),s("br"),e._v(e._s(e.stepFirst.unPassType)+", 请重新上传附件\n                      "),s("br"),e._v("请提供一下证明资料："+e._s(e.stepFirst.unPassObj)+"\n                      "),s("br"),e._v(e._s(e.stepFirst.auditRemark)+"\n                  ")])])]):e._e()])])],1)},os=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h5",{staticClass:"text-center"},[e._v("您好，您的申请请求已提交！"),s("br"),e._v("\n                  我们将于 2个工作日之内予以答复")])}],ls={render:us,staticRenderFns:os},cs=ls,ds=s("VU/8"),hs=v,ps=ds(ns,cs,!1,hs,"data-v-df136652",null),ms=ps.exports,bs=(je()({},Object(ze.c)(["identityTypeList"]),{senility:function(){return"01"===this.userbase.identityType&&rt.a.IdCard(this.userbase.idNumber,3)<60},noContinent:function(){return"03"!==this.userbase.identityType&&"06"!==this.userbase.identityType&&"07"!==this.userbase.identityType},donoteBlood:function(){return!1},family:function(){return!1},soldier:function(){return"04"!==this.userbase.identityType},student:function(){return!1},noBlood:function(){return!1},inconformity:function(){return!1}}),je()({},Object(ze.b)(["getIdentityType"]),{go:function(){this.$router.goBack()}}),{name:"apply",data:function(){return{userbase:je()({},this.$store.state.userbase)}},computed:je()({},Object(ze.c)(["identityTypeList"]),{senility:function(){return"01"===this.userbase.identityType&&rt.a.IdCard(this.userbase.idNumber,3)<60},noContinent:function(){return"03"!==this.userbase.identityType&&"06"!==this.userbase.identityType&&"07"!==this.userbase.identityType},donoteBlood:function(){return!1},family:function(){return!1},soldier:function(){return"04"!==this.userbase.identityType},student:function(){return!1},noBlood:function(){return!1},inconformity:function(){return!1}}),methods:je()({},Object(ze.b)(["getIdentityType"]),{go:function(){this.$router.goBack()}}),created:function(){this.$store.state.identityTypeList.length<=0&&this.getIdentityType()}}),vs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("header-history",{attrs:{path:"#/apply"}}),e._v(" "),s("div",{staticClass:"default-layout"},[s("p",{staticClass:"title"},[e._v("审证指引")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),s("div",{staticClass:"footer"},[s("x-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.go()}}},[e._v("完成")])],1)])],1)},_s=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group row "},[s("div",{staticClass:"col-xs-12 text-left"},[s("h5",{staticClass:"reg_title"},[e._v(" 在本市有工作单位的用血者")]),e._v(" "),s("p",[e._v("请前往 "),s("span",{staticClass:"text-info"},[e._v("单位缴纳社保所在地的区血液管理机构")]),e._v(" 办理用血手续。")])]),e._v(" "),s("div",{staticClass:"col-xs-12 text-left"},[s("h5",{staticClass:"reg_title"},[e._v("在本市无工作单位的用血者")]),e._v(" "),s("p",[e._v("请前往 "),s("span",{staticClass:"text-info"},[e._v("户籍所在地的区血液管理机构")]),e._v(" 办理用血手续")])]),e._v(" "),s("div",{staticClass:"col-xs-12 text-left"},[s("h5",{staticClass:"reg_title"},[e._v(" 外省市来沪就医的用血者")]),e._v(" "),s("p",[e._v("请前往 "),s("span",{staticClass:"text-info"},[e._v("医院所在地的区血液管理机构")]),e._v(" 办理用血手续")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group row title"},[s("h5",{staticClass:"col-xs-12 text-left"},[e._v("联系方式")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group row "},[s("div",{staticClass:"col-xs-12 text-left"},[s("h5",{staticClass:"reg_title"},[e._v(" 为避免徒劳往返，请先致电相关血液管理机构垂询！谢谢！")]),e._v(" "),s("p",[e._v("附件： "),s("a",{staticClass:"text-info",staticStyle:{"text-decoration":"underline"},attrs:{href:"#/contact"}},[e._v("《本市血液管理机构联系方式》")])])])])}],ys={render:vs,staticRenderFns:_s},fs=ys,gs=s("VU/8"),xs=_,Ts=gs(bs,fs,!1,xs,"data-v-5f698c28",null),Ss=Ts.exports,ws={data:function(){return{transitionName:"slide-left"}},beforeRouteUpdate:function(e,t,s){var i=this.$router.isBack;this.transitionName=i?"slide-right":"slide-left",this.$router.isBack=!1,s()}},ks=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("transition",{attrs:{name:e.transitionName}},[s("router-view",{staticClass:"child-view"})],1)],1)},Cs=[],Es={render:ks,staticRenderFns:Cs},$s=Es,Ns=s("VU/8"),Os=y,Vs=Ns(ws,$s,!1,Os,"data-v-0361acf9",null),Ds=Vs.exports;Y.a.prototype.goBack=function(){this.isBack=!0,window.history.go(-1)},R.a.use(Y.a);var Bs=new Y.a({mode:"history",routes:[{path:"/",name:"PageTransition",component:Ds,children:[{path:"/",redirect:"/home"},{path:"/helloWorld",name:"HelloWorld",component:ie,meta:{title:"用血审证",description:"HelloWorld"}},{path:"/vux",name:"HelloFromVux",component:qe,meta:{title:"用血审证",description:"HelloFromVux"}},{path:"/home",name:"home",component:st,meta:{title:"用血审证",description:"home"}},{path:"/application/:type?",name:"application",component:mt,meta:{title:"用血审证",description:"application"}},{path:"/apply",name:"apply",component:St,meta:{title:"用血审证",description:"apply"}},{path:"/senility/:caseType",name:"senility",component:Dt,meta:{title:"用血审证",description:"senility"}},{path:"/succ/:caseType?",name:"succ",component:Wt,meta:{title:"用血审证",description:"succ"}},{path:"/notify",name:"notify",component:Xt,meta:{title:"用血审证",description:"notify"}},{path:"/contact",name:"contact",component:rs,meta:{title:"用血审证",description:"contact"}},{path:"/progress/:data?",name:"progress",component:ms,meta:{title:"用血审证",description:"progress"}},{path:"/neither",name:"neither",component:Ss,meta:{title:"用血审证",description:"neither"}}]}]}),Is=(s("/QCA"),{identityTypeList:[],userbase:localStorage.getItem("userbase")?JSON.parse(localStorage.getItem("userbase")):{name:"",identityType:"01",idNumber:"",agree:!0,gender:"1",age:0,phone:""}}),As={setIdentityType:function(e,t){e.identityTypeList=t},setUserbase:function(e,t){e.userbase=t,localStorage.setItem("userbase",at()(t))}},Rs={textPlus:function(e,t,s){return e.text+s.b.text}},Ms={getIdentityType:function(e){var t=e.commit;return He.a.getIdentityType().then(function(e){t("setIdentityType",e)})},updateUserbase:function(e,t){(0,e.commit)("setUserbase",t)}},Ps=(Boolean,Boolean,Boolean,String,String,Boolean,String,Object,Array,{name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(e){return 2===e.length}}},methods:{onClick:function(){!this.disabled&&Object(Se.a)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}),Fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"weui-btn",class:e.classes,style:e.buttonStyle,attrs:{disabled:e.disabled,type:e.actionType},on:{click:e.onClick}},[e.showLoading?s("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),e._t("default",[e._v(e._s(e.text))])],2)},Ls=[],Ws={render:Fs,staticRenderFns:Ls},Us=Ws,qs=s("VU/8"),Ks=f,js=qs(Ps,Us,!1,Ks,null,null),Hs=js.exports,zs=s("fZjL"),Ys=s.n(zs),Js=s("f6Hi"),Xs=(String,Boolean,{name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}),Qs=function(){var e=this,t=e.$createElement;return(e._self._c||t)("i",{class:[e.className,e.isMsg?"weui-icon_msg":""]})},Gs=[],Zs={render:Qs,staticRenderFns:Gs},ei=Zs,ti=s("VU/8"),si=g,ii=ti(Xs,ei,!1,si,null,null),ai=ii.exports,ri=s("rLAy"),ni=s("2LX0"),ui=s.n(ni),oi=s("Ewe+"),li=s.n(oi),ci=s("nror"),di=s("lFEC"),hi=s.n(di),pi={email:{fn:ui.a,msg:"邮箱格式"},"china-mobile":{fn:function(e){return li()(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}},mi=(Js.a,ri.a,String,String,String,String,Number,String,Boolean,Boolean,String,String,String,Function,Number,Number,Boolean,String,String,String,String,String,String,Boolean,String,Number,String,String,String,Boolean,{email:{fn:ui.a,msg:"邮箱格式"},"china-mobile":{fn:function(e){return li()(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}}),bi={name:"x-input",created:function(){var e=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=Object(ci.a)(function(){e.$emit("on-change",e.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[Js.a],components:{Icon:ai,InlineDesc:Te,Toast:ri.a},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var e=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(e<10)return e+"em"},hasErrors:function(){return Ys()(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;/iphone/i.test(navigator.userAgent),"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){e.$refs.input.scrollIntoViewIfNeeded(!0)},t)},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(e){return this.mask?hi.a.toPattern(e,this.mask):e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=e,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(e){var t=this;this.$emit("on-focus",this.currentValue,e),this.isFocus=!0,setTimeout(function(){t.$refs.input.scrollIntoViewIfNeeded(!1)},1e3)},onBlur:function(e){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,e)},onKeyUp:function(e){"Enter"===e.key?(e.target.blur(),this.$emit("on-enter",this.currentValue,e)):this.$emit("on-keyup",this.currentValue,e)},getError:function(){var e=Ys()(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(void 0!==this.equalWith)return void this.validateEqual();if(this.errors={},!this.currentValue&&!this.required)return void(this.valid=!0);if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var e=mi[this.isType];if(e){var t=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(t=this.currentValue.replace(/\s+/g,"")),this.valid=e.fn(t),!this.valid)return this.forceShowError=!0,this.errors.format=e.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var s=this.isType(this.currentValue);if(this.valid=s.valid,!this.valid)return this.errors.format=s.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))},_getInputMaskSelection:function(e,t,s,i){if(!this.mask||i&&0===t)return e;if(0===t&&(t=this.lastDirection),t>0){if(!this.mask.substr(e-t,1).match(/[9SA]/))return this._getInputMaskSelection(e+1,t,s,!0)}return e}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(e){e&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(e){this.currentValue=e},equalWith:function(e){e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(e,t){var s=this;!this.equalWith&&e&&this.validateEqual(),e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate();var i=this.$refs.input.selectionStart,a=e.length-t.length;i=this._getInputMaskSelection(i,a,this.maskValue(e)),this.lastDirection=a,this.$emit("input",this.maskValue(e)),this.$nextTick(function(){s.$refs.input.selectionStart!==i&&(s.$refs.input.selectionStart=i,s.$refs.input.selectionEnd=i),s.currentValue!==s.maskValue(e)&&(s.currentValue=s.maskValue(e))}),this._debounce?this._debounce():this.$emit("on-change",e)}}},vi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vux-x-input weui-cell",class:{"weui-cell_warn":e.showWarn,disabled:e.disabled,"vux-x-input-has-right-full":e.hasRightFullHeightSlot}},[s("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?s("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?s("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.labelWidth||e.$parent.labelWidth||e.labelWidthComputed,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},attrs:{for:"vux-x-input-"+e.uuid},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?s("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),s("div",{staticClass:"weui-cell__bd weui-cell__primary",class:e.placeholderAlign?"vux-x-input-placeholder-"+e.placeholderAlign:""},[e.type&&"text"!==e.type?e._e():s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"text",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),"number"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"number",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"email"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"email",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"password"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"password",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"tel"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"tel",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e()]),e._v(" "),s("div",{staticClass:"weui-cell__ft"},[s("icon",{directives:[{name:"show",rawName:"v-show",value:!e.hasRightFullHeightSlot&&!e.equalWith&&e.showClear&&""!==e.currentValue&&!e.readonly&&!e.disabled&&e.isFocus,expression:"!hasRightFullHeightSlot && !equalWith && showClear && currentValue !== '' && !readonly && !disabled && isFocus"}],attrs:{type:"clear"},nativeOn:{click:function(t){return e.clear(t)}}}),e._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:e.showWarn,expression:"showWarn"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.valid?"":e.firstError},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}),e._v(" "),!e.novalidate&&e.hasLengthEqual&&e.dirty&&e.equalWith&&!e.valid?s("icon",{staticClass:"vux-input-icon",attrs:{type:"warn"},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}):e._e(),e._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:!e.novalidate&&e.equalWith&&e.equalWith===e.currentValue&&e.valid,expression:"!novalidate && equalWith && equalWith === currentValue && valid"}],attrs:{type:"success"}}),e._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"success"===e.iconType,expression:"novalidate && iconType === 'success'"}],staticClass:"vux-input-icon",attrs:{type:"success"}}),e._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"error"===e.iconType,expression:"novalidate && iconType === 'error'"}],staticClass:"vux-input-icon",attrs:{type:"warn"}}),e._v(" "),e._t("right"),e._v(" "),e.hasRightFullHeightSlot?s("div",{staticClass:"vux-x-input-right-full"},[e._t("right-full-height")],2):e._e()],2),e._v(" "),s("toast",{attrs:{type:"text",width:"auto",time:600},model:{value:e.showErrorToast,callback:function(t){e.showErrorToast=t},expression:"showErrorToast"}},[e._v(e._s(e.firstError))])],1)},_i=[],yi={render:vi,staticRenderFns:_i},fi=yi,gi=s("VU/8"),xi=x,Ti=gi(bi,fi,!1,xi,null,null),Si=Ti.exports,wi=s("pFYg"),ki=s.n(wi),Ci=s("NXHL"),Ei=s.n(Ci),$i=s("KRg4"),Ni=function(e,t){var s=Ei()(t,function(t){return t.key===e});return s?s.value:e},Oi=($i.a,ae.a,String,String,Array,String,String,Boolean,String,Number,Object,Boolean,Array,function(e,t){var s=Ei()(t,function(t){return t.key===e});return s?s.value:e}),Vi={name:"selector",mixins:[$i.a],created:function(){void 0!==this.value&&(this.currentValue=this.value)},beforeMount:function(){this.isIOS=/iPad|iPhone|iPod/.test(window.navigator.userAgent)},computed:{fixIos:function(){return!this.placeholder&&this.isEmptyValue(this.value)&&this.isIOS&&this.title},color:function(){return this.showPlaceholder?"#A9A9A9":""},processOptions:function(){var e=this;if(!this.options.length)return[];var t="object"===ki()(this.options[0]);return t&&!this.valueMap?this.options:t&&this.valueMap?this.options.map(function(t){return{key:t[e.valueMap[0]],value:t[e.valueMap[1]]}}):this.options.map(function(e){return{key:e,value:e}})},showPlaceholder:function(){return!(!this.isEmptyValue(this.value)||!this.placeholder)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{isEmptyValue:function(e){return void 0===e||""===e||null===e},cleanStyle:ae.a,getFullValue:function(){var e=this;return this.value&&this.options.length?"object"!==ki()(this.options[0])?this.value:this.valueMap?this.options.filter(function(t){return t[e.valueMap[0]]===e.value}):this.options.filter(function(t){return t.key===e.value}):null}},filters:{findByKey:Oi},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},props:{title:String,direction:String,options:{type:Array,required:!0},name:String,placeholder:String,readonly:Boolean,value:[String,Number,Object,Boolean],valueMap:{type:Array,validator:function(e){return!(!e.length||2!==e.length)}}},data:function(){return{currentValue:"",isIOS:!1}}},Di=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vux-selector weui-cell",class:{"weui-cell_select":!e.readonly,"weui-cell_select-after":e.title}},[e.title?s("div",{staticClass:"weui-cell__hd"},[s("label",{staticClass:"weui-label",class:e.labelClass,style:e.cleanStyle({width:e.$parent.labelWidth,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight}),attrs:{for:"vux-selector-"+e.uuid},domProps:{innerHTML:e._s(e.title)}})]):e._e(),e._v(" "),e.readonly?s("div",{staticClass:"weui-cell__ft vux-selector-readonly"},[e._v("\n    "+e._s(e._f("findByKey")(e.value,e.processOptions))+"\n  ")]):s("div",{staticClass:"weui-cell__bd"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-select",style:e.cleanStyle({direction:e.direction,color:e.color}),attrs:{id:"vux-selector-"+e.uuid,name:e.name},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.currentValue=t.target.multiple?s:s[0]}}},[e.showPlaceholder?s("option",{domProps:{value:null===e.value?"null":"",selected:e.isEmptyValue(e.value)&&!!e.placeholder}},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.fixIos?s("option",{attrs:{disabled:""}}):e._e(),e._v(" "),e._l(e.processOptions,function(t){return s("option",{domProps:{value:t.key}},[e._v(e._s(t.value))])})],2)])])},Bi=[],Ii={render:Di,staticRenderFns:Bi},Ai=Ii,Ri=s("VU/8"),Mi=T,Pi=Ri(Vi,Ai,!1,Mi,null,null),Fi=Pi.exports,Li=s("gaXx"),Wi=(Number,Number,Boolean,Number,String,String,Boolean,String,String,String,s("gaXx")),Ui={name:"x-number",props:{min:Number,max:Number,readonly:Boolean,step:{type:Number,default:1},value:{validator:function(e){return"number"==typeof e||"string"==typeof e&&""===e},default:0},name:String,title:String,fillable:{type:Boolean,default:!1},width:{type:String,default:"50px"},buttonStyle:{type:String,default:"square"},align:{type:String,default:"right"}},created:function(){this.currentValue=this.value},data:function(){return{currentValue:0}},computed:{disabledMin:function(){return void 0!==this.min&&(""===this.currentValue||this.currentValue<=this.min)},disabledMax:function(){return void 0!==this.max&&(""===this.currentValue||this.currentValue>=this.max)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(e,t){""!==e&&(void 0!==this.min&&this.currentValue<this.min&&(this.currentValue=this.min),this.max&&this.currentValue>this.max&&(this.currentValue=this.max)),this.$emit("input",this.currentValue)},value:function(e){this.currentValue=e,this.$emit("on-change",e)}},methods:{add:function(){if(!this.disabledMax){var e=new Wi(this.currentValue);this.currentValue=1*e.plus(this.step)}},sub:function(){if(!this.disabledMin){var e=new Wi(this.currentValue);this.currentValue=1*e.minus(this.step)}},blur:function(){""===this.currentValue&&(this.currentValue=0)}}},qi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"weui-cell"},[s("div",[s("p",{class:e.labelClass,style:{width:e.$parent.labelWidth,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.readonly,expression:"!readonly"}],staticClass:"weui-cell__ft vux-cell-primary",class:{"vux-number-round":"round"===e.buttonStyle},staticStyle:{"font-size":"0"}},[s("div",{style:{float:e.align}},[s("a",{staticClass:"vux-number-selector vux-number-selector-sub",class:{"vux-number-disabled":e.disabledMin},on:{click:e.sub}},[s("svg",{attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"18",height:"18"}},[s("defs"),s("path",{attrs:{d:"M863.74455 544.00086 163.424056 544.00086c-17.664722 0-32.00086-14.336138-32.00086-32.00086s14.336138-32.00086 32.00086-32.00086l700.320495 0c17.695686 0 31.99914 14.336138 31.99914 32.00086S881.440237 544.00086 863.74455 544.00086z"}})])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.currentValue,expression:"currentValue",modifiers:{number:!0}}],staticClass:"vux-number-input",style:{width:e.width},attrs:{name:e.name,readonly:!e.fillable,pattern:"[0-9]*",type:"number"},domProps:{value:e.currentValue},on:{blur:[e.blur,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||(e.currentValue=e._n(t.target.value))}}}),e._v(" "),s("a",{staticClass:"vux-number-selector vux-number-selector-plus",class:{"vux-number-disabled":e.disabledMax},on:{click:e.add}},[s("svg",{attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"20",height:"20"}},[s("defs"),s("path",{attrs:{d:"M863.328262 481.340895l-317.344013 0.099772L545.984249 162.816826c0-17.664722-14.336138-32.00086-32.00086-32.00086s-31.99914 14.336138-31.99914 32.00086l0 318.400215-322.368714-0.17718c-0.032684 0-0.063647 0-0.096331 0-17.632039 0-31.935493 14.239806-32.00086 31.904529-0.096331 17.664722 14.208843 32.031824 31.871845 32.095471l322.59234 0.17718 0 319.167424c0 17.695686 14.336138 32.00086 31.99914 32.00086s32.00086-14.303454 32.00086-32.00086L545.982529 545.440667l317.087703-0.099772c0.063647 0 0.096331 0 0.127295 0 17.632039 0 31.935493-14.239806 32.00086-31.904529S880.960301 481.404542 863.328262 481.340895z"}})])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.readonly,expression:"readonly"}],staticClass:"weui-cell__ft vux-cell-primary"},[e._v("\n    "+e._s(e.value)+"\n  ")])])},Ki=[],ji={render:qi,staticRenderFns:Ki},Hi=ji,zi=s("VU/8"),Yi=S,Ji=zi(Ui,Hi,!1,Yi,null,null),Xi=Ji.exports,Qi=(String,{name:"tip",props:{align:{type:String,default:"left"}}}),Gi=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-group-tip",style:{"text-align":e.align}},[e._t("default")],2)},Zi=[],ea={render:Gi,staticRenderFns:Zi},ta=ea,sa=s("VU/8"),ia=w,aa=sa(Qi,ta,!1,ia,null,null),ra=aa.exports,na=s("q5lo"),ua=s("HHx2"),oa=s.n(ua),la=(na.d,na.b,Js.a,String,Boolean,String,Boolean,Array,Array,Number,Number,Boolean,Boolean,Boolean,String,Boolean,na.d,na.b,na.a,{name:"checklist",components:{Tip:ra,Icon:ai,InlineDesc:Te},filters:{getValue:na.d,getKey:na.b},mixins:[Js.a],props:{name:String,showError:Boolean,title:String,required:{type:Boolean,default:!1},options:{type:Array,required:!0},value:{type:Array,default:function(){return[]}},max:Number,min:Number,fillMode:Boolean,randomOrder:Boolean,checkDisabled:{type:Boolean,default:!0},labelPosition:{type:String,default:"right"},disabled:Boolean},data:function(){return{currentValue:[],currentOptions:this.options,tempValue:""}},beforeUpdate:function(){if(this.isRadio){var e=this.currentValue.length;e>1&&(this.currentValue=[this.currentValue[e-1]]);var t=C(this.currentValue);this.tempValue=t.length?t[0]:""}},created:function(){this.handleChangeEvent=!0,this.value&&(this.currentValue=this.value,this.isRadio&&(this.tempValue=this.isRadio?this.value[0]:this.value)),this.randomOrder?this.currentOptions=oa()(this.options):this.currentOptions=this.options},methods:{getValue:na.d,getKey:na.b,getInlineDesc:na.a,getFullValue:function(){var e=Object(na.c)(this.options,this.value);return this.currentValue.map(function(t,s){return{value:t,label:e[s]}})},isDisabled:function(e){return!!this.checkDisabled&&(this._max>1&&(-1===this.currentValue.indexOf(e)&&this.currentValue.length===this._max))}},computed:{isRadio:function(){return void 0!==this.max&&1===this.max},_total:function(){return this.fillMode?this.options.length+1:this.options.length},_min:function(){if(!this.required&&!this.min)return 0;if(!this.required&&this.min)return Math.min(this._total,this.min);if(this.required){if(this.min){var e=Math.max(1,this.min);return Math.min(this._total,e)}return 1}},_max:function(){return(this.required||this.max)&&this.max?this.max>this._total?this._total:this.max:this._total},valid:function(){return this.currentValue.length>=this._min&&this.currentValue.length<=this._max}},watch:{tempValue:function(e){var t=e?[e]:[];this.$emit("input",t),this.$emit("on-change",t,Object(na.c)(this.options,t))},value:function(e){at()(e)!==at()(this.currentValue)&&(this.currentValue=e)},options:function(e){this.currentOptions=e},currentValue:function(e){var t=C(e);if(!this.isRadio){this.$emit("input",t),this.$emit("on-change",t,Object(na.c)(this.options,t));var s={};this._min&&(this.required?this.currentValue.length<this._min&&(s={min:this._min}):this.currentValue.length&&this.currentValue.length<this._min&&(s={min:this._min})),!this.valid&&this.dirty&&Ys()(s).length?this.$emit("on-error",s):this.$emit("on-clear-error")}}}}),ca=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.disabled?"vux-checklist-disabled":""},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}],staticClass:"weui-cells__title"},[e._v(e._s(e.title))]),e._v(" "),e._t("after-title"),e._v(" "),s("div",{staticClass:"weui-cells weui-cells_checkbox"},e._l(e.currentOptions,function(t,i){return s("label",{staticClass:"weui-cell weui-check_label",class:{"vux-checklist-label-left":"left"===e.labelPosition},attrs:{for:"checkbox_"+e.uuid+"_"+i}},[s("div",{staticClass:"weui-cell__hd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"checkbox",name:"vux-checkbox-"+e.uuid,id:e.disabled?"":"checkbox_"+e.uuid+"_"+i,disabled:e.isDisabled(e.getKey(t))},domProps:{value:e.getKey(t),checked:Array.isArray(e.currentValue)?e._i(e.currentValue,e.getKey(t))>-1:e.currentValue},on:{change:function(s){var i=e.currentValue,a=s.target,r=!!a.checked;if(Array.isArray(i)){var n=e.getKey(t),u=e._i(i,n);a.checked?u<0&&(e.currentValue=i.concat([n])):u>-1&&(e.currentValue=i.slice(0,u).concat(i.slice(u+1)))}else e.currentValue=r}}}),e._v(" "),s("i",{staticClass:"weui-icon-checked vux-checklist-icon-checked"})]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("p",{domProps:{innerHTML:e._s(e.getValue(t))}}),e._v(" "),e.getInlineDesc(t)?s("inline-desc",[e._v(e._s(e.getInlineDesc(t)))]):e._e()],1)])})),e._v(" "),e._t("footer")],2)},da=[],ha={render:ca,staticRenderFns:da},pa=ha,ma=s("VU/8"),ba=E,va=ma(la,pa,!1,ba,null,null),_a=va.exports,ya=s("3BeM"),fa=s("Y+qm"),ga=s("zV4+"),xa=s("ODCk"),Ta=($i.a,String,String,String,String,String,Number,Number,String,String,String,String,String,String,String,String,Boolean,Number,Number,String,String,String,Function,Boolean,Array,Array,Boolean,String,Function,Function,Object,{name:"datetime",mixins:[$i.a],components:{Group:pe,InlineDesc:Te,Icon:ai},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(e){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(e){return!e||10===e.length}},endDate:{type:String,validator:function(e){return!e||10===e.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var e=this,t=this.uuid;this.$el.setAttribute("id","vux-datetime-"+t),this.readonly||this.$nextTick(function(){e.render(),e.show&&e.$nextTick(function(){e.picker&&e.picker.show(e.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(t,s,i){e.picker&&e.picker.config.renderInline&&(e.$emit("input",i),e.$emit("on-change",i))},onConfirm:function(t){e.currentValue=t},onClear:function(t){e.$emit("on-clear",t)},onHide:function(t){e.currentShow=!1,e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&setTimeout(function(){e.$nextTick(function(){e.$emit("on-confirm",e.value)})})},onShow:function(){e.currentShow=!0,e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError:function(){var e=Ys()(this.errors)[0];return this.errors[e]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+e+"-text")},render:function(){var e=this;this.$nextTick(function(){e.picker&&e.picker.destroy(),e.picker=new ga.a(e.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(e){e?this.picker&&this.picker.destroy():this.render()},show:function(e){e!==this.currentShow&&(e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(e){this.currentValue&&(this.currentValue=Object(xa.a)(this.currentValue,e)),this.render()},value:function(e){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=e);this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}),Sa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!e.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[e._t("default",[s("div",[e._t("title",[s("p",{class:e.labelClass,style:e.styles,domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),e.inlineDesc?s("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),s("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:e.valueTextAlign}},[!e.currentValue&&e.placeholder?s("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.currentValue?s("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayFormat?e.displayFormat(e.currentValue):e.currentValue))]):e._e(),e._v(" "),s("icon",{directives:[{name:"show",rawName:"v-show",value:!e.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.firstError}})],1)])],2)},wa=[],ka={render:Sa,staticRenderFns:wa},Ca=ka,Ea=s("VU/8"),$a=$,Na=Ea(Ta,Ca,!1,$a,null,null),Oa=Na.exports,Va=(Boolean,Boolean,Boolean,{name:"x-table",props:{fullBordered:Boolean,cellBordered:{type:Boolean,default:!0},contentBordered:{type:Boolean,default:!0}}}),Da=function(){var e=this,t=e.$createElement;return(e._self._c||t)("table",{staticClass:"vux-table",class:{"vux-table-bordered":e.fullBordered,"vux-table-no-cell-bordered":!e.cellBordered,"vux-table-no-content-bordered":!e.contentBordered}},[e._t("default")],2)},Ba=[],Ia={render:Da,staticRenderFns:Ba},Aa=Ia,Ra=s("VU/8"),Ma=N,Pa=Ra(Va,Aa,!1,Ma,null,null),Fa=Pa.exports,La=(String,String,String,String,String,Number,Array,Object,Number,Boolean,{name:"checker",props:{defaultItemClass:String,selectedItemClass:String,disabledItemClass:String,type:{type:String,default:"radio"},value:[String,Number,Array,Object],max:Number,radioRequired:Boolean},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{currentValue:this.value}}}),Wa=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-checker-box"},[e._t("default")],2)},Ua=[],qa={render:Wa,staticRenderFns:Ua},Ka=qa,ja=s("VU/8"),Ha=O,za=ja(La,Ka,!1,Ha,null,null),Ya=za.exports,Ja=(String,Number,Object,Boolean,{name:"checker-item",props:{value:{type:[String,Number,Object],required:!0},disabled:Boolean},watch:{disabled:function(e){e&&"radio"===this.$parent.type&&this.value===this.$parent.currentValue&&(this.$parent.currentValue="")}},computed:{classNames:function(){var e=this,t="string"==typeof this.value||"number"==typeof this.value,s={"vux-tap-active":!this.disabled};if(this.$parent.defaultItemClass&&(s[this.$parent.defaultItemClass]=!0),this.$parent.selectedItemClass){var i=!1;if("radio"===this.$parent.type)t&&this.$parent.currentValue===this.value?i=!0:"object"===ki()(this.value)&&D(this.$parent.currentValue,this.value)&&(i=!0);else if("string"==typeof this.value)this.$parent.currentValue.indexOf(this.value)>-1&&(i=!0);else if(this.$parent.currentValue&&this.$parent.currentValue.length){var a=this.$parent.currentValue.filter(function(t){return D(t,e.value)});i=a.length>0}s[this.$parent.selectedItemClass]=i}return this.$parent.disabledItemClass&&(s[this.$parent.disabledItemClass]=this.disabled),s}},methods:{select:function(){"radio"===this.$parent.type?this.selectRadio():this.selectCheckbox()},selectRadio:function(){this.disabled||(this.$parent.currentValue===this.value?this.$parent.radioRequired||(this.$parent.currentValue=""):this.$parent.currentValue=this.value),this.$emit("on-item-click",this.value,this.disabled)},selectCheckbox:function(){this.$parent.currentValue&&null!==this.$parent.currentValue||(this.$parent.currentValue=[]);var e="string"==typeof this.value||"number"==typeof this.value;if(!this.disabled){var t=-1;t=e?this.$parent.currentValue.indexOf(this.value):this.$parent.currentValue.map(function(e){return at()(e)}).indexOf(at()(this.value)),t>-1?this.$parent.currentValue.splice(t,1):(!this.$parent.max||this.$parent.max&&null!==this.$parent.currentValue&&this.$parent.currentValue.length<this.$parent.max)&&(this.$parent.currentValue&&this.$parent.currentValue.length||(this.$parent.currentValue=[]),this.$parent.currentValue.push(this.value))}this.$emit("on-item-click",this.value,this.disabled)}}}),Xa=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-checker-item",class:e.classNames,on:{click:e.select}},[e._t("default")],2)},Qa=[],Ga={render:Xa,staticRenderFns:Qa},Za=Ga,er=s("VU/8"),tr=B,sr=er(Ja,Za,!1,tr,null,null),ir=sr.exports,ar=(Number,String,String,String,String,String,{name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}),rr=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===e.orient,"vux-flex-row":"horizontal"===e.orient},style:e.styles},[e._t("default")],2)},nr=[],ur={render:rr,staticRenderFns:nr},or=ur,lr=s("VU/8"),cr=I,dr=lr(ar,or,!1,cr,null,null),hr=dr.exports,pr=["-moz-box-","-webkit-box-",""],mr=(Number,String,Number,String,["-moz-box-","-webkit-box-",""]),br={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(e[t]=this.$parent.gutter+"px"),this.span)for(var s=0;s<mr.length;s++)e[mr[s]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:0}}},vr=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-flexbox-item",style:e.style},[e._t("default")],2)},_r=[],yr={render:vr,staticRenderFns:_r},fr=yr,gr=s("VU/8"),xr=gr(br,fr,!1,null,null,null),Tr=xr.exports,Sr=(String,{props:{path:{type:String,default:"#/home"}},methods:{go:function(){this.$router.goBack()}}}),wr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",[s("a",{staticClass:"pull-left",staticStyle:{fill:"#fff",position:"absolute",left:"5px",top:"8px"},on:{click:function(t){e.go()}}},[s("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-back",attrs:{type:"ios-arrow-back",size:"30",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M352 128.4L319.7 96 160 256l159.7 160 32.3-32.4L224.7 256z"}})])]),e._v(" "),s("di",{staticClass:"text-center title"},[e._v("用血审证")])],1)},kr=[],Cr={render:wr,staticRenderFns:kr},Er=Cr,$r=s("VU/8"),Nr=A,Or=$r(Sr,Er,!1,Nr,null,null),Vr=Or.exports;R.a.use(ze.a),R.a.use(ya.a),R.a.use(fa.a);var Dr=function(){return new ze.a.Store({strict:!1,state:Is,mutations:As,getters:Rs,actions:Ms,plugins:[function(e){console.log("my plugin invoked")}]})}();P.a.attach(document.body),R.a.config.productionTip=!1,R.a.component("x-button",Hs),R.a.component("x-input",Si),R.a.component("group",pe),R.a.component("selector",Fi),R.a.component("toast",ri.a),R.a.component("x-number",Xi),R.a.component("checklist",_a),R.a.component("datetime",Oa),R.a.component("x-table",Fa),R.a.component("icon",ai),R.a.component("header-history",Vr),R.a.component("checker",Ya),R.a.component("checker-item",ir),R.a.component("flexbox",hr),R.a.component("flexbox-item",Tr),Bs.beforeEach(function(e,t,s){if(e.meta.content){var i=document.getElementsByTagName("head"),a=document.createElement("meta");a.content=e.meta.content,i[0].appendChild(a)}e.meta.title&&(document.title=e.meta.title),s()}),new R.a({router:Bs,store:Dr,render:function(e){return e(z)}}).$mount("#app-box")},NQTZ:function(e,t){},NeJJ:function(e,t){},QWE9:function(e,t){},U7Hp:function(e,t){},"X+dp":function(e,t){},YDYb:function(e,t){},apyy:function(e,t){},astL:function(e,t){},c2Ap:function(e,t){},cC6l:function(e,t){},ge4Q:function(e,t,s){e.exports=s.p+"static/img/vux_logo.79cbb96.png"},iz3p:function(e,t){},n6lo:function(e,t){},"pO+k":function(e,t){},pSX5:function(e,t){},"r/S+":function(e,t){},rLAy:function(e,t,s){"use strict";function i(e){s("NeJJ")}var a=s("xNvf"),r=(a.a,Boolean,Number,String,String,String,Boolean,String,String,{name:"toast",mixins:[a.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(e){var t=this;e&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(e){this.show=e}}}),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vux-toast"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMask&&e.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),e._v(" "),s("transition",{attrs:{name:e.currentTransition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-toast",class:e.toastClass,style:{width:e.width}},[s("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==e.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),e._v(" "),e.text?s("p",{staticClass:"weui-toast__content",style:e.style,domProps:{innerHTML:e._s(e.text)}}):s("p",{staticClass:"weui-toast__content",style:e.style},[e._t("default")],2)])])],1)},u=[],o={render:n,staticRenderFns:u},l=o,c=s("VU/8"),d=i,h=c(r,l,!1,d,null,null);t.a=h.exports},uO6d:function(e,t){},uPtk:function(e,t){},vmex:function(e,t){},w7GG:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_1_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__=__webpack_require__("E4LH"),__WEBPACK_IMPORTED_MODULE_3__components_uploader_vue__=__webpack_require__("+TmT"),__WEBPACK_IMPORTED_MODULE_4__model_client_model__=__webpack_require__("8sLa");Array.prototype.findIndex=Array.prototype.findIndex||function(evaluator,thisArg){if(!this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof evaluator){if("string"!=typeof evaluator)throw new TypeError;if(!(evaluator=eval(evaluator)))throw new TypeError}var i;if(void 0===thisArg){for(i in this)if(evaluator(this[i],i,this))return i;return-1}for(i in this)if(evaluator.call(thisArg,this[i],i,this))return i;return-1};var _unused_webpack_default_export={name:"Application",components:{uploader:__WEBPACK_IMPORTED_MODULE_3__components_uploader_vue__.a},data:function(){var e=this;return{msg:"Application",userbase:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},this.$store.state.userbase,{placeType:"LOCAL",count:1,donateTime:"2018-01-01",donateType:"WHOL",images:[],prove1:[],prove2:[],prove3:[],hospital:{},diagnosis:"40",evidenceBloods:[],otherDiseaseName:"",caseType:"",inauguralStatus:"6"===this.$route.params.caseType?{key:"ETC1",value:"在校教师"}:{key:"WORK",value:"本市有工作单位"},employment:{},employmentArea:"",retireEmploymentName:"",familyName:"",familyType:"",familyNumber:"",relation:"",prove4:[],prove5:[]}),hospitals:[],employments:[],areas:[],show:!1,validate:function(t){var s=!0;return"01"!==e.userbase.identityType||__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.isIdentity(t)||(s=!1),{valid:s,msg:"Error"}},familyValidate:function(t){var s=!0;return"01"!==e.userbase.familyType||__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.isIdentity(t)||(s=!1),{valid:s,msg:"Error"}},validatePhone:function(e){return{valid:__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.checkTel(e),msg:"Error"}},fillable:!0,varmax:5,uploadUrl:"https://sbc.stpass.com/synergy-api/service/wechatevidence/upload",disease:[],bloodSubTypes:[]}},computed:{identityTypeList:function(){return this.$store.state.identityTypeList.length<=0&&this.getIdentityType(),this.$store.state.identityTypeList.map(function(e){return e.key=e.id,e.value=e.name,e})},identityTypeView:function(){var e=this;return console.log(this.identityTypeList),this.identityTypeList.length>0?this.identityTypeList.filter(function(t){return t.id==e.userbase.identityType})[0].name:""},disabled:function(){var e=!1;switch(this.userbase.caseType){case"3":case"4":case"8":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.placeType&&this.userbase.donateType&&this.userbase.prove1.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)||(e=!0);break;case"1":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.placeType&&this.userbase.donateType&&this.userbase.prove1.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&("WORK"!==this.userbase.inauguralStatus.key||this.userbase.employment.id)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.employmentArea)&&("RETI"!==this.userbase.inauguralStatus.key||this.userbase.retireEmploymentName)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.prove3.length)&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)||(e=!0);break;case"2":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.familyName&&this.userbase.familyType&&this.userbase.familyNumber&&this.userbase.relation&&this.userbase.prove4.length&&this.userbase.prove5.length&&this.userbase.donateType&&this.userbase.prove1.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)&&("WORK"!==this.userbase.inauguralStatus.key||this.userbase.employment.id)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.employmentArea)&&("RETI"!==this.userbase.inauguralStatus.key||this.userbase.retireEmploymentName)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.prove3.length)||(e=!0);break;case"6":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.placeType&&this.userbase.donateType&&this.userbase.prove1.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&this.userbase.employment.id&&this.userbase.prove3.length&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)||(e=!0);break;case"5":this.userbase.name&&this.userbase.age&&this.userbase.idNumber&&this.userbase.phone&&this.userbase.images.length&&this.userbase.hospital&&this.userbase.diagnosis&&this.userbase.evidenceBloods.length&&this.userbase.prove2.length&&this.userbase.agree&&("40"!=this.userbase.diagnosis||this.userbase.otherDiseaseName)&&("WORK"!==this.userbase.inauguralStatus.key||this.userbase.employment.id)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.employmentArea)&&("RETI"!==this.userbase.inauguralStatus.key||this.userbase.retireEmploymentName)&&("DOCT"===this.userbase.inauguralStatus.key||this.userbase.prove3.length)||(e=!0)}return e}},methods:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_1_vuex__.b)(["getIdentityType","updateUserbase"]),{submit:function(){var e=this,t={};switch(this.userbase.caseType){case"3":case"4":case"8":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,donateNum:parseFloat(this.userbase.count).toFixed(2),donateTime:this.userbase.donateTime+" 00:00:00",donateType:this.userbase.donateType,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:parseFloat(e.volume).toFixed(2)}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()},{type:"1",matterId:this.userbase.prove1.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,placeType:this.userbase.placeType};break;case"1":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,donateNum:this.userbase.count.toString()+".00",donateTime:this.userbase.donateTime+" 00:00:00",donateType:this.userbase.donateType,employment:"WORK"===this.userbase.inauguralStatus.key?this.userbase.employment.id:null,employmentArea:"DOCT"===this.userbase.inauguralStatus.key?null:this.userbase.employmentArea,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:e.volume}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()},{type:"1",matterId:this.userbase.prove1.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,inauguralStatus:this.userbase.inauguralStatus.key,identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,placeType:this.userbase.placeType,retireEmploymentName:"RETI"===this.userbase.inauguralStatus.key?this.userbase.retireEmploymentName:null},"DOCT"!==this.userbase.inauguralStatus.key&&t.evidenceStuffs.push({name:"单位证明",matterId:this.userbase.prove3.map(function(e){return e.id}).toString()});break;case"2":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,donateNum:this.userbase.count.toString()+".00",donateTime:this.userbase.donateTime+" 00:00:00",donateType:this.userbase.donateType,employment:"WORK"===this.userbase.inauguralStatus.key?this.userbase.employment.id:null,employmentArea:"DOCT"===this.userbase.inauguralStatus.key?null:this.userbase.employmentArea,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:e.volume}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()},{type:"4",matterId:this.userbase.prove4.map(function(e){return e.id}).toString(),name:this.userbase.familyName,cardType:this.userbase.familyType,cardNo:this.userbase.famifamilyNumberlyName},{type:"3",matterId:this.userbase.prove1.map(function(e){return e.id}).toString()},{type:"2",matterId:this.userbase.prove5.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,inauguralStatus:this.userbase.inauguralStatus.key,identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,retireEmploymentName:"RETI"===this.userbase.inauguralStatus.key?this.userbase.retireEmploymentName:null},"DOCT"!==this.userbase.inauguralStatus.key&&t.evidenceStuffs.push({name:"单位证明",matterId:this.userbase.prove3.map(function(e){return e.id}).toString()});break;case"6":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,donateNum:this.userbase.count.toString()+".00",donateTime:this.userbase.donateTime+" 00:00:00",donateType:this.userbase.donateType,employment:"WORK"===this.userbase.inauguralStatus.key?this.userbase.employment.id:null,employmentArea:"DOCT"===this.userbase.inauguralStatus.key?null:this.userbase.employmentArea,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:e.volume}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()},{type:"10",matterId:this.userbase.prove1.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,inauguralStatus:"ETC",identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,placeType:this.userbase.placeType,retireEmploymentName:"RETI"===this.userbase.inauguralStatus.key?this.userbase.retireEmploymentName:null},"DOCT"!==this.userbase.inauguralStatus.key&&t.evidenceStuffs.push({name:"单位证明",matterId:this.userbase.prove3.map(function(e){return e.id}).toString()});break;case"5":t={age:this.userbase.age.toString(),caseType:this.userbase.caseType,contact:this.userbase.phone,disease:this.userbase.diagnosis,employment:"WORK"===this.userbase.inauguralStatus.key?this.userbase.employment.id:null,employmentArea:"DOCT"===this.userbase.inauguralStatus.key?null:this.userbase.employmentArea,evidenceBloods:this.userbase.evidenceBloods.map(function(e){return{bloodSubType:e.bloodSubType.toString(),unit:e.unit,volume:e.volume}}),evidenceStuffs:[{name:"身份证明",matterId:this.userbase.images.map(function(e){return e.id}).toString()},{name:"用血通知单",matterId:this.userbase.prove2.map(function(e){return e.id}).toString()}],evidenceType:"WEI",gender:this.userbase.gender,hospitalName:this.userbase.hospital.name,identityId:this.userbase.idNumber,inauguralStatus:this.userbase.inauguralStatus.key,identityType:this.userbase.identityType,isOtherDisease:0,name:this.userbase.name,otherDiseaseName:this.userbase.otherDiseaseName,retireEmploymentName:"RETI"===this.userbase.inauguralStatus.key?this.userbase.retireEmploymentName:null},"DOCT"!==this.userbase.inauguralStatus.key&&t.evidenceStuffs.push({name:"单位证明",matterId:this.userbase.prove3.map(function(e){return e.id}).toString()})}__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.saveData(t).then(function(){e.updateUserbase({age:e.userbase.age,agree:e.userbase.agree,gender:e.userbase.gender,idNumber:e.userbase.idNumber,identityType:e.userbase.identityType,name:e.userbase.name,phone:e.userbase.phone}),"5"===e.userbase.caseType?e.$router.push("/succ/5"):e.$router.push("/succ")}).catch(function(){e.$vux.toast.show({type:"warn",position:"middle",text:"提交失败，请检查！"})})},hospitalChange:function(e){var t=this;__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getHospitals(e).then(function(e){t.hospitals=e})},selectHospital:function(e){this.hospitals=[],this.userbase.hospital=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},e)},employmentChange:function(e){var t=this;__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getEmployments(e).then(function(e){t.employments=e})},selectemployment:function(e){this.employments=[],this.userbase.employment=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},e),this.userbase.employmentArea=this.userbase.employment.areaId},addBlood:function(){var e=this;if(this.$refs.bloodType.currentValue&&this.$refs.bloodCount.currentValue&&this.$refs.bloodCount.currentValue>0){var t=this.bloodSubTypes.filter(function(t){return t.id==e.$refs.bloodType.currentValue})[0];this.userbase.evidenceBloods.length>0&&-1!==this.userbase.evidenceBloods.findIndex(function(e){return e.bloodSubType==t.id})?this.userbase.evidenceBloods[this.userbase.evidenceBloods.findIndex(function(e){return e.bloodSubType==t.id})].volume=parseFloat(this.$refs.bloodCount.currentValue)+parseFloat(this.userbase.evidenceBloods[this.userbase.evidenceBloods.findIndex(function(e){return e.bloodSubType==t.id})].volume):this.userbase.evidenceBloods.push({bloodSubType:t.id,unit:t.unit,volume:parseFloat(this.$refs.bloodCount.currentValue).toFixed(2),name:t.name})}},deleteBlood:function(e){this.userbase.evidenceBloods.splice(e,1)},go:function(e,t){t?this.$router.push(e+"/"+t):this.$router.push(""+e)},inauguralStatusChange:function(){console.log(this.userbase.inauguralStatus),this.employments=[]},preview:function(){console.log(123)}}),created:function(){var e=this;__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getDisease().then(function(t){e.disease=t.map(function(e){return"其它"===e.name?e.value="其它 (请在下框输入)":e.value=e.name,e.key=e.id,e})}),__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getBloodSubType().then(function(t){e.bloodSubTypes=t.map(function(e){return e.value=e.name,e.key=e.id,e})}),__WEBPACK_IMPORTED_MODULE_4__model_client_model__.a.getArea().then(function(t){e.areas=t.filter(function(e){return e.available}).map(function(e){return e.value=e.name,e.key=e.id,e})}),"01"===this.userbase.identityType&&(this.userbase.age=__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.IdCard(this.userbase.idNumber,3),this.userbase.gender=__WEBPACK_IMPORTED_MODULE_2__utils_validate_js__.a.IdCard(this.userbase.idNumber,2)),this.userbase.caseType=this.$route.params.caseType}}},xKWW:function(e,t){},yDZ4:function(e,t){},yiUR:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.8642837da676f31d9d19.js.map